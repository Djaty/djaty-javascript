{"version":3,"sources":["jsAgentCoreDjaty.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_typeof2","Symbol","iterator","obj","constructor","prototype","_typeof","Djaty","libs","name","path","djatyLibs","require","define","exports","oldLibs","forEach","lib","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","util","extend","regexes","extensions","margedRegexes","concat","has","str1","str2","toLowerCase","indexOf","lowerize","str","major","version","replace","split","trim","mapper","rgx","ua","arrays","j","k","p","q","matches","match","regex","props","exec","this","call","test","_str","map","maps","browser","oldsafari","1.0","1.2","1.3","2.0","2.0.2","2.0.3","2.0.4","?","device","amazon","model","Fire Phone","sprint","Evo Shift 4G","vendor","HTC","Sprint","os","windows","ME","NT 3.11","NT 4.0","2000","XP","Vista","7","8","8.1","10","RT","cpu","engine","UAParser","uastring","getResult","navigator","userAgent","rgxmap","getBrowser","getCPU","architecture","getDevice","type","getEngine","getOS","getUA","setUA","BROWSER","CPU","DEVICE","ENGINE","OS","module","amd","$","jQuery","Zepto","parser","get","set","result","prop","I","process","versions","node","global","a","Q","C","L","c","J","A","D","_A","K","ArrayBuffer","Uint8Array","m","n","r","t","u","v","e","b","h","d","E","F","G","H","O","B","M","P","N","charCodeAt","w","l","f","x","y","z","g","JS_SHA256_TEST","sha256","sha224","utils","assign","find","key","value","Error","filter","getEventHandler","handler","Object","ev","getElementFromSelectorOrEl","label","selectorOrEl","tagName","arguments","lookup","document","elements","querySelectorAll","isDomElement","assertValidOpts","optStruct","opt","forOwn","attr","curStruct","optAttr","allowedValues","required","properties","toString","childType","child","optChildsStruct","optChilds","join","resolveProperty","tracker","formattedObj","propName","data","trackingOptions","normalizedPointerPos","axis","ptr","Event","axisUC","toUpperCase","normalizedEvent","touches","scrollStr","docElScroll","documentElement","bodyElScroll","body","scrollVal","asyncLoop","funcArr","initArgs","ctx","doneCb","next","_len","args","_key","apply","newArgs","convertStrToPair","splitter","op","keyValueArray","strList","keyValue","push","appendIntoOrCreateDjaty","element","djatyEl","querySelector","appendChild","createElement","className","classList","add","someObject","object","cb","hasOwnProperty","_ajax","method","reqUrl","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","responseText","response","JSON","parse","err","send","spinner","isSpin","externalMethodHandler","nodeListeners","init","spin","text","_this","actions","block","spinnerEl","_getSpinnerEl","remove","spinnerActions","spinnerText","innerHTML","action","btn","innerText","info","infoSpan","title","addEventListenerAndSaveIt","eventName","callMethod","logger","stopSpin","listen","originalRemoveEventListener","contains","tpl","div","removeCircular","throwsMessage","message","safeGetValueFromPropertyOnObject","property","hasProp","error","visit","seen","HTMLElement","stack","toJSON","keys","reduce","sizeOfObject","limit","recurse","size","objectList","exceedLimit","uniqueStr","limitString","substring","generateSelect2El","selector","options","select2El","select2","isSelected","item","optionEl","id","html","selected","append","on","dropdown","_positionDropdown","disabled","val","trigger","browserData","getData","dataStores","store","storeData","cookies","cookie","localStorage","DjatyTracking","buffer","bufferRequests","numberOfRetry","isInitialized","timeOutRef","elementsPerRequest","bufferRequestLimit","serverDelayTime","offset","autoSubmittedErrorEndPoint","projectId","appendedData","shouldBeDestroyed","constants","destroy","clearTimeout","manageBuffer","request","config","apiKey","shift","patch","bestLength","agentDataPatch","slice","_submitRequest","strPatch","stringify","removeEmail","privacyPlaceHolder","url","bugsURL","api","apiBugsUrl","djatyAjax","_serverError","IndexOfRequest","splice","_this2","delayTime","Math","pow","djatySetTimeout","throttle","requests","timeoutRef","delayTimePerRequest","elementsForAllRequests","ManageThrottling","serveAllRequests","trackingApp","trackers","isInitiated","agentId","agentVersion","throttleModule","submitterCb","initApp","memoryStorage","getTryCatchHandler","addInFrontOfSubmitHandler","_filterSecret","agentConstData","getAgentConstData","autoReport","_autoReport","_agentConstData","release","usedTrackerInAutoReport","timelineFormatter","bind","autoReportModule","itemType","localStorageWrapper","LocalStorageWrapper","itemKey","itemValue","initialFormData","formItem","form","_formatInitAppTimelineItems","timeline","regCoreTrackingCb","_onTrackingCb","timelineLimit","unshift","_ref","isIgnored","state","itemIndex","hash","repetitionCount","getErrorData","_errorData","reqId","_handleSendingData","errorData","_getErrorDataToIdx","addTracker","isTimelineIgnored","ignoreTimelineItem","clonedFormattedItem","console","originalMethods","trackConsole","isIgnoredError","ignoredErrors","some","ignoredError","registerMemoryStorage","storage","registerLocalStorage","regOnSubmitCb","setNamespace","ns","structure","types","constrains","maxLength","minLength","validate","namespace","getNamespace","setAPIKey","getAllowAutoSubmissionState","allowAutoSubmission","setAllowAutoSubmissionState","setExtensionState","isExtension","getJSFrontendAgentConfig","jsFrontendConfig","getTrackingData","browserLocalData","propValue","propKey","requestSizeLimit","user","_getUser","timelineData","curUrl","location","href","customData","globalCustomData","constData","screen","colorDepth","screenSize","innerWidth","innerHeight","hashType","getFilteredData","onSubmitHandlers","addCustomData","_handleInsertItemIntoTimeline","app","lastItem","isLastItem","trimmingItemType","currentData","filteredData","djatyBugReport","rawData","addCustomDataCb","dataCb","lastItemIndex","lastTimelineItem","longTitle","shortTitle","lastBugShortTitle","bugType","_ref2","_errorData2","_find","target","_replaceIfFound","removeSecretData","secretItem","_resolveIfFound","_filterAjax","secretDataStr","RegExp","openParams","ajax","headers","header","queryParams","queryParam","requestPayload","FormData","formattedPayload","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","pair","_iterator","entries","done","bugReport","sessionStorage","inputs","input","index","values","select","selectIdx","container","memoryObj","djatyLocalStorage","localStorageStr","getItem","localStorageObj","setItem","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","ajaxTracker","pendingRequests","reqArgs","ajaxCookie","_formatTimelinePendingObj","_formatTimelineFinishedObj","reqTimelineItem","_isTypeAllowed","isAborted","time","paramUrl","djatyRegId","getDjatyReqId","queryParamsObj","_getFullURL","openParamsProp","openArgs","param","timestamp","statusText","headersData","requestHeaders","payload","requestTime","timelineItemIndex","allowedResp","responseType","responseURL","withCredentials","responseHeaders","_timelineItemIndex","URL","pathname","titleLimit","tmpAnchorElement","consoleTracker","attrName","_formatTimelineObj","Date","now","sizeObject","consoleParams","isTrimmed","stringifiedParams","substr","history","origin","formTracker","_ref$time","isPwdForm","inputTypes","nodeName","checked","selectedOptions","option","existingField","inputInfo","formKey","fileTracker","src","fileStatus","file","lastIndexOf","exceptionTracker","_ref$err","msg","frameList","_Djaty$trackingApp$ge","stackframes","frame","functionName","stacktraceLimit","exception","details","stringifiedStack","navigationTracker","currentTime","curPageUrl","pageTitle","navigation","logsFormattingCb","exceptionFormattingCb","loggerTimelineItems","logErrorParams","errorMessage","reportDjatyCrashes","_addItemToTimeline","clientProjectApiKey","stringifiedPayload","formattingCb","logTimeline","loggedErrors","tmpTimeline","registerAutoReportCb","removeAutoReportCb"],"mappings":"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","file":"jsAgentCoreDjaty.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nDjaty.libs = {};\n\nvar libs = [{\n  name: 'UAParser',\n  path: '../../bower_components/ua-parser-js/dist/ua-parser.min.js'\n}, {\n  name: 'sha256',\n  path: '../../bower_components/js-sha256/build/sha256.min.js'\n}];\n\n// eslint-disable-next-line no-unused-vars\n(function libWrapper(Djaty, djatyLibs, require, define, exports) {\n  var oldLibs = {};\n  djatyLibs.forEach(function (lib) {\n    var name = lib.name;\n    oldLibs[name] = window[name];\n  });\n\n  /*!\n  * UAParser.js v0.7.19\n  * Lightweight JavaScript-based User-Agent string parser\n  * https://github.com/faisalman/ua-parser-js\n  *\n  * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>\n  * Dual licensed under GPLv2 or MIT\n  */\n  (function (window, undefined) {\n    \"use strict\";\n    var LIBVERSION = \"0.7.19\",\n        EMPTY = \"\",\n        UNKNOWN = \"?\",\n        FUNC_TYPE = \"function\",\n        UNDEF_TYPE = \"undefined\",\n        OBJ_TYPE = \"object\",\n        STR_TYPE = \"string\",\n        MAJOR = \"major\",\n        MODEL = \"model\",\n        NAME = \"name\",\n        TYPE = \"type\",\n        VENDOR = \"vendor\",\n        VERSION = \"version\",\n        ARCHITECTURE = \"architecture\",\n        CONSOLE = \"console\",\n        MOBILE = \"mobile\",\n        TABLET = \"tablet\",\n        SMARTTV = \"smarttv\",\n        WEARABLE = \"wearable\",\n        EMBEDDED = \"embedded\";var util = { extend: function extend(regexes, extensions) {\n        var margedRegexes = {};for (var i in regexes) {\n          if (extensions[i] && extensions[i].length % 2 === 0) {\n            margedRegexes[i] = extensions[i].concat(regexes[i]);\n          } else {\n            margedRegexes[i] = regexes[i];\n          }\n        }return margedRegexes;\n      }, has: function has(str1, str2) {\n        if (typeof str1 === \"string\") {\n          return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n        } else {\n          return false;\n        }\n      }, lowerize: function lowerize(str) {\n        return str.toLowerCase();\n      }, major: function major(version) {\n        return (typeof version === 'undefined' ? 'undefined' : _typeof(version)) === STR_TYPE ? version.replace(/[^\\d\\.]/g, \"\").split(\".\")[0] : undefined;\n      }, trim: function trim(str) {\n        return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\n      } };var mapper = { rgx: function rgx(ua, arrays) {\n        var i = 0,\n            j,\n            k,\n            p,\n            q,\n            matches,\n            match;while (i < arrays.length && !matches) {\n          var regex = arrays[i],\n              props = arrays[i + 1];j = k = 0;while (j < regex.length && !matches) {\n            matches = regex[j++].exec(ua);if (!!matches) {\n              for (p = 0; p < props.length; p++) {\n                match = matches[++k];q = props[p];if ((typeof q === 'undefined' ? 'undefined' : _typeof(q)) === OBJ_TYPE && q.length > 0) {\n                  if (q.length == 2) {\n                    if (_typeof(q[1]) == FUNC_TYPE) {\n                      this[q[0]] = q[1].call(this, match);\n                    } else {\n                      this[q[0]] = q[1];\n                    }\n                  } else if (q.length == 3) {\n                    if (_typeof(q[1]) === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                      this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                    } else {\n                      this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                    }\n                  } else if (q.length == 4) {\n                    this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                  }\n                } else {\n                  this[q] = match ? match : undefined;\n                }\n              }\n            }\n          }i += 2;\n        }\n      }, str: function str(_str, map) {\n        for (var i in map) {\n          if (_typeof(map[i]) === OBJ_TYPE && map[i].length > 0) {\n            for (var j = 0; j < map[i].length; j++) {\n              if (util.has(map[i][j], _str)) {\n                return i === UNKNOWN ? undefined : i;\n              }\n            }\n          } else if (util.has(map[i], _str)) {\n            return i === UNKNOWN ? undefined : i;\n          }\n        }return _str;\n      } };var maps = { browser: { oldsafari: { version: { \"1.0\": \"/8\", 1.2: \"/1\", 1.3: \"/3\", \"2.0\": \"/412\", \"2.0.2\": \"/416\", \"2.0.3\": \"/417\", \"2.0.4\": \"/419\", \"?\": \"/\" } } }, device: { amazon: { model: { \"Fire Phone\": [\"SD\", \"KF\"] } }, sprint: { model: { \"Evo Shift 4G\": \"7373KT\" }, vendor: { HTC: \"APA\", Sprint: \"Sprint\" } } }, os: { windows: { version: { ME: \"4.90\", \"NT 3.11\": \"NT3.51\", \"NT 4.0\": \"NT4.0\", 2000: \"NT 5.0\", XP: [\"NT 5.1\", \"NT 5.2\"], Vista: \"NT 6.0\", 7: \"NT 6.1\", 8: \"NT 6.2\", 8.1: \"NT 6.3\", 10: [\"NT 6.4\", \"NT 10.0\"], RT: \"ARM\" } } } };var regexes = { browser: [[/(opera\\smini)\\/([\\w\\.-]+)/i, /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i, /(opera).+version\\/([\\w\\.]+)/i, /(opera)[\\/\\s]+([\\w\\.]+)/i], [NAME, VERSION], [/(opios)[\\/\\s]+([\\w\\.]+)/i], [[NAME, \"Opera Mini\"], VERSION], [/\\s(opr)\\/([\\w\\.]+)/i], [[NAME, \"Opera\"], VERSION], [/(kindle)\\/([\\w\\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i, /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?([\\w\\.]*)/i, /(?:ms|\\()(ie)\\s([\\w\\.]+)/i, /(rekonq)\\/([\\w\\.]*)/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\\/([\\w\\.-]+)/i], [NAME, VERSION], [/(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i], [[NAME, \"IE\"], VERSION], [/(edge|edgios|edga)\\/((\\d+)?[\\w\\.]+)/i], [[NAME, \"Edge\"], VERSION], [/(yabrowser)\\/([\\w\\.]+)/i], [[NAME, \"Yandex\"], VERSION], [/(puffin)\\/([\\w\\.]+)/i], [[NAME, \"Puffin\"], VERSION], [/(focus)\\/([\\w\\.]+)/i], [[NAME, \"Firefox Focus\"], VERSION], [/(opt)\\/([\\w\\.]+)/i], [[NAME, \"Opera Touch\"], VERSION], [/((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i], [[NAME, \"UCBrowser\"], VERSION], [/(comodo_dragon)\\/([\\w\\.]+)/i], [[NAME, /_/g, \" \"], VERSION], [/(micromessenger)\\/([\\w\\.]+)/i], [[NAME, \"WeChat\"], VERSION], [/(brave)\\/([\\w\\.]+)/i], [[NAME, \"Brave\"], VERSION], [/(qqbrowserlite)\\/([\\w\\.]+)/i], [NAME, VERSION], [/(QQ)\\/([\\d\\.]+)/i], [NAME, VERSION], [/m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i], [NAME, VERSION], [/(BIDUBrowser)[\\/\\s]?([\\w\\.]+)/i], [NAME, VERSION], [/(2345Explorer)[\\/\\s]?([\\w\\.]+)/i], [NAME, VERSION], [/(MetaSr)[\\/\\s]?([\\w\\.]+)/i], [NAME], [/(LBBROWSER)/i], [NAME], [/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i], [VERSION, [NAME, \"MIUI Browser\"]], [/;fbav\\/([\\w\\.]+);/i], [VERSION, [NAME, \"Facebook\"]], [/safari\\s(line)\\/([\\w\\.]+)/i, /android.+(line)\\/([\\w\\.]+)\\/iab/i], [NAME, VERSION], [/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i], [VERSION, [NAME, \"Chrome Headless\"]], [/\\swv\\).+(chrome)\\/([\\w\\.]+)/i], [[NAME, /(.+)/, \"$1 WebView\"], VERSION], [/((?:oculus|samsung)browser)\\/([\\w\\.]+)/i], [[NAME, /(.+(?:g|us))(.+)/, \"$1 $2\"], VERSION], [/android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i], [VERSION, [NAME, \"Android Browser\"]], [/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i], [NAME, VERSION], [/(dolfin)\\/([\\w\\.]+)/i], [[NAME, \"Dolphin\"], VERSION], [/((?:android.+)crmo|crios)\\/([\\w\\.]+)/i], [[NAME, \"Chrome\"], VERSION], [/(coast)\\/([\\w\\.]+)/i], [[NAME, \"Opera Coast\"], VERSION], [/fxios\\/([\\w\\.-]+)/i], [VERSION, [NAME, \"Firefox\"]], [/version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i], [VERSION, [NAME, \"Mobile Safari\"]], [/version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i], [VERSION, NAME], [/webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i], [[NAME, \"GSA\"], VERSION], [/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [/(konqueror)\\/([\\w\\.]+)/i, /(webkit|khtml)\\/([\\w\\.]+)/i], [NAME, VERSION], [/(navigator|netscape)\\/([\\w\\.-]+)/i], [[NAME, \"Netscape\"], VERSION], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i, /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i, /(links)\\s\\(([\\w\\.]+)/i, /(gobrowser)\\/?([\\w\\.]*)/i, /(ice\\s?browser)\\/v?([\\w\\._]+)/i, /(mosaic)[\\/\\s]([\\w\\.]+)/i], [NAME, VERSION]], cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i], [[ARCHITECTURE, \"amd64\"]], [/(ia32(?=;))/i], [[ARCHITECTURE, util.lowerize]], [/((?:i[346]|x)86)[;\\)]/i], [[ARCHITECTURE, \"ia32\"]], [/windows\\s(ce|mobile);\\sppc;/i], [[ARCHITECTURE, \"arm\"]], [/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i], [[ARCHITECTURE, /ower/, \"\", util.lowerize]], [/(sun4\\w)[;\\)]/i], [[ARCHITECTURE, \"sparc\"]], [/((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i], [[ARCHITECTURE, util.lowerize]]], device: [[/\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i], [MODEL, VENDOR, [TYPE, TABLET]], [/applecoremedia\\/[\\w\\.]+ \\((ipad)/], [MODEL, [VENDOR, \"Apple\"], [TYPE, TABLET]], [/(apple\\s{0,1}tv)/i], [[MODEL, \"Apple TV\"], [VENDOR, \"Apple\"]], [/(archos)\\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\\/([\\w\\.]+)/i, /\\s(nook)[\\w\\s]+build\\/(\\w+)/i, /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i], [VENDOR, MODEL, [TYPE, TABLET]], [/(kf[A-z]+)\\sbuild\\/.+silk\\//i], [MODEL, [VENDOR, \"Amazon\"], [TYPE, TABLET]], [/(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, \"Amazon\"], [TYPE, MOBILE]], [/android.+aft([bms])\\sbuild/i], [MODEL, [VENDOR, \"Amazon\"], [TYPE, SMARTTV]], [/\\((ip[honed|\\s\\w*]+);.+(apple)/i], [MODEL, VENDOR, [TYPE, MOBILE]], [/\\((ip[honed|\\s\\w*]+);/i], [MODEL, [VENDOR, \"Apple\"], [TYPE, MOBILE]], [/(blackberry)[\\s-]?(\\w+)/i, /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i, /(hp)\\s([\\w\\s]+\\w)/i, /(asus)-?(\\w+)/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/\\(bb10;\\s(\\w+)/i], [MODEL, [VENDOR, \"BlackBerry\"], [TYPE, MOBILE]], [/android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone)/i], [MODEL, [VENDOR, \"Asus\"], [TYPE, TABLET]], [/(sony)\\s(tablet\\s[ps])\\sbuild\\//i, /(sony)?(?:sgp.+)\\sbuild\\//i], [[VENDOR, \"Sony\"], [MODEL, \"Xperia Tablet\"], [TYPE, TABLET]], [/android.+\\s([c-g]\\d{4}|so[-l]\\w+)\\sbuild\\//i], [MODEL, [VENDOR, \"Sony\"], [TYPE, MOBILE]], [/\\s(ouya)\\s/i, /(nintendo)\\s([wids3u]+)/i], [VENDOR, MODEL, [TYPE, CONSOLE]], [/android.+;\\s(shield)\\sbuild/i], [MODEL, [VENDOR, \"Nvidia\"], [TYPE, CONSOLE]], [/(playstation\\s[34portablevi]+)/i], [MODEL, [VENDOR, \"Sony\"], [TYPE, CONSOLE]], [/(sprint\\s(\\w+))/i], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [/(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))/i], [VENDOR, MODEL, [TYPE, TABLET]], [/(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i, /(zte)-(\\w*)/i, /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i], [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]], [/(nexus\\s9)/i], [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]], [/d\\/huawei([\\w\\s-]+)[;\\)]/i, /(nexus\\s6p)/i], [MODEL, [VENDOR, \"Huawei\"], [TYPE, MOBILE]], [/(microsoft);\\s(lumia[\\s\\w]+)/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i], [MODEL, [VENDOR, \"Microsoft\"], [TYPE, CONSOLE]], [/(kin\\.[onetw]{3})/i], [[MODEL, /\\./g, \" \"], [VENDOR, \"Microsoft\"], [TYPE, MOBILE]], [/\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i, /mot[\\s-]?(\\w*)/i, /(XT\\d{3,4}) build\\//i, /(nexus\\s6)/i], [MODEL, [VENDOR, \"Motorola\"], [TYPE, MOBILE]], [/android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i], [MODEL, [VENDOR, \"Motorola\"], [TYPE, TABLET]], [/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [/hbbtv.+maple;(\\d+)/i], [[MODEL, /^/, \"SmartTV\"], [VENDOR, \"Samsung\"], [TYPE, SMARTTV]], [/\\(dtv[\\);].+(aquos)/i], [MODEL, [VENDOR, \"Sharp\"], [TYPE, SMARTTV]], [/android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\\w+))/i], [[VENDOR, \"Samsung\"], MODEL, [TYPE, TABLET]], [/smart-tv.+(samsung)/i], [VENDOR, [TYPE, SMARTTV], MODEL], [/((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i, /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i, /sec-((sgh\\w+))/i], [[VENDOR, \"Samsung\"], MODEL, [TYPE, MOBILE]], [/sie-(\\w*)/i], [MODEL, [VENDOR, \"Siemens\"], [TYPE, MOBILE]], [/(maemo|nokia).*(n900|lumia\\s\\d+)/i, /(nokia)[\\s_-]?([\\w-]*)/i], [[VENDOR, \"Nokia\"], MODEL, [TYPE, MOBILE]], [/android\\s3\\.[\\s\\w;-]{10}(a\\d{3})/i], [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]], [/android.+([vl]k\\-?\\d{3})\\s+build/i], [MODEL, [VENDOR, \"LG\"], [TYPE, TABLET]], [/android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i], [[VENDOR, \"LG\"], MODEL, [TYPE, TABLET]], [/(lg) netcast\\.tv/i], [VENDOR, MODEL, [TYPE, SMARTTV]], [/(nexus\\s[45])/i, /lg[e;\\s\\/-]+(\\w*)/i, /android.+lg(\\-?[\\d\\w]+)\\s+build/i], [MODEL, [VENDOR, \"LG\"], [TYPE, MOBILE]], [/android.+(ideatab[a-z0-9\\-\\s]+)/i], [MODEL, [VENDOR, \"Lenovo\"], [TYPE, TABLET]], [/linux;.+((jolla));/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/((pebble))app\\/[\\d\\.]+\\s/i], [VENDOR, MODEL, [TYPE, WEARABLE]], [/android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/crkey/i], [[MODEL, \"Chromecast\"], [VENDOR, \"Google\"]], [/android.+;\\s(glass)\\s\\d/i], [MODEL, [VENDOR, \"Google\"], [TYPE, WEARABLE]], [/android.+;\\s(pixel c)[\\s)]/i], [MODEL, [VENDOR, \"Google\"], [TYPE, TABLET]], [/android.+;\\s(pixel( [23])?( xl)?)\\s/i], [MODEL, [VENDOR, \"Google\"], [TYPE, MOBILE]], [/android.+;\\s(\\w+)\\s+build\\/hm\\1/i, /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i, /android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i, /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i], [[MODEL, /_/g, \" \"], [VENDOR, \"Xiaomi\"], [TYPE, MOBILE]], [/android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i], [[MODEL, /_/g, \" \"], [VENDOR, \"Xiaomi\"], [TYPE, TABLET]], [/android.+;\\s(m[1-5]\\snote)\\sbuild/i], [MODEL, [VENDOR, \"Meizu\"], [TYPE, TABLET]], [/(mz)-([\\w-]{2,})/i], [[VENDOR, \"Meizu\"], MODEL, [TYPE, MOBILE]], [/android.+a000(1)\\s+build/i, /android.+oneplus\\s(a\\d{4})\\s+build/i], [MODEL, [VENDOR, \"OnePlus\"], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i], [MODEL, [VENDOR, \"RCA\"], [TYPE, TABLET]], [/android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i], [MODEL, [VENDOR, \"Dell\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i], [MODEL, [VENDOR, \"Verizon\"], [TYPE, TABLET]], [/android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i], [[VENDOR, \"Barnes & Noble\"], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i], [MODEL, [VENDOR, \"NuVision\"], [TYPE, TABLET]], [/android.+;\\s(k88)\\sbuild/i], [MODEL, [VENDOR, \"ZTE\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i], [MODEL, [VENDOR, \"Swiss\"], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(zur\\d{3})\\s+build/i], [MODEL, [VENDOR, \"Swiss\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i], [MODEL, [VENDOR, \"Zeki\"], [TYPE, TABLET]], [/(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i, /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i], [[VENDOR, \"Dragon Touch\"], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i], [MODEL, [VENDOR, \"Insignia\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i], [MODEL, [VENDOR, \"NextBook\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i], [[VENDOR, \"Voice\"], MODEL, [TYPE, MOBILE]], [/android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i], [[VENDOR, \"LvTel\"], MODEL, [TYPE, MOBILE]], [/android.+;\\s(PH-1)\\s/i], [MODEL, [VENDOR, \"Essential\"], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i], [MODEL, [VENDOR, \"Envizen\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i], [MODEL, [VENDOR, \"MachSpeed\"], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*TU_(1491)\\s+build/i], [MODEL, [VENDOR, \"Rotor\"], [TYPE, TABLET]], [/android.+(KS(.+))\\s+build/i], [MODEL, [VENDOR, \"Amazon\"], [TYPE, TABLET]], [/android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i], [VENDOR, MODEL, [TYPE, TABLET]], [/\\s(tablet|tab)[;\\/]/i, /\\s(mobile)(?:[;\\/]|\\ssafari)/i], [[TYPE, util.lowerize], VENDOR, MODEL], [/(android[\\w\\.\\s\\-]{0,9});.+build/i], [MODEL, [VENDOR, \"Generic\"]]], engine: [[/windows.+\\sedge\\/([\\w\\.]+)/i], [VERSION, [NAME, \"EdgeHTML\"]], [/(presto)\\/([\\w\\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i, /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i, /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i], [NAME, VERSION], [/rv\\:([\\w\\.]{1,9}).+(gecko)/i], [VERSION, NAME]], os: [[/microsoft\\s(windows)\\s(vista|xp)/i], [NAME, VERSION], [/(windows)\\snt\\s6\\.2;\\s(arm)/i, /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i, /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i], [[NAME, \"Windows\"], [VERSION, mapper.str, maps.os.windows.version]], [/\\((bb)(10);/i], [[NAME, \"BlackBerry\"], VERSION], [/(blackberry)\\w*\\/?([\\w\\.]*)/i, /(tizen)[\\/\\s]([\\w\\.]+)/i, /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[\\/\\s-]?([\\w\\.]*)/i, /linux;.+(sailfish);/i], [NAME, VERSION], [/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i], [[NAME, \"Symbian\"], VERSION], [/\\((series40);/i], [NAME], [/mozilla.+\\(mobile;.+gecko.+firefox/i], [[NAME, \"Firefox OS\"], VERSION], [/(nintendo|playstation)\\s([wids34portablevu]+)/i, /(mint)[\\/\\s\\(]?(\\w*)/i, /(mageia|vectorlinux)[;\\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i, /(hurd|linux)\\s?([\\w\\.]*)/i, /(gnu)\\s?([\\w\\.]*)/i], [NAME, VERSION], [/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i], [[NAME, \"Chromium OS\"], VERSION], [/(sunos)\\s?([\\w\\.\\d]*)/i], [[NAME, \"Solaris\"], VERSION], [/\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i], [NAME, VERSION], [/(haiku)\\s(\\w+)/i], [NAME, VERSION], [/cfnetwork\\/.+darwin/i, /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i], [[VERSION, /_/g, \".\"], [NAME, \"iOS\"]], [/(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i, /(macintosh|mac(?=_powerpc)\\s)/i], [[NAME, \"Mac OS\"], [VERSION, /_/g, \".\"]], [/((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i, /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i, /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i, /(unix)\\s?([\\w\\.]*)/i], [NAME, VERSION]] };var UAParser = function UAParser(uastring, extensions) {\n      if ((typeof uastring === 'undefined' ? 'undefined' : _typeof(uastring)) === \"object\") {\n        extensions = uastring;uastring = undefined;\n      }if (!(this instanceof UAParser)) {\n        return new UAParser(uastring, extensions).getResult();\n      }var ua = uastring || (window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : EMPTY);var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;this.getBrowser = function () {\n        var browser = { name: undefined, version: undefined };mapper.rgx.call(browser, ua, rgxmap.browser);browser.major = util.major(browser.version);return browser;\n      };this.getCPU = function () {\n        var cpu = { architecture: undefined };mapper.rgx.call(cpu, ua, rgxmap.cpu);return cpu;\n      };this.getDevice = function () {\n        var device = { vendor: undefined, model: undefined, type: undefined };mapper.rgx.call(device, ua, rgxmap.device);return device;\n      };this.getEngine = function () {\n        var engine = { name: undefined, version: undefined };mapper.rgx.call(engine, ua, rgxmap.engine);return engine;\n      };this.getOS = function () {\n        var os = { name: undefined, version: undefined };mapper.rgx.call(os, ua, rgxmap.os);return os;\n      };this.getResult = function () {\n        return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };\n      };this.getUA = function () {\n        return ua;\n      };this.setUA = function (uastring) {\n        ua = uastring;return this;\n      };return this;\n    };UAParser.VERSION = LIBVERSION;UAParser.BROWSER = { NAME: NAME, MAJOR: MAJOR, VERSION: VERSION };UAParser.CPU = { ARCHITECTURE: ARCHITECTURE };UAParser.DEVICE = { MODEL: MODEL, VENDOR: VENDOR, TYPE: TYPE, CONSOLE: CONSOLE, MOBILE: MOBILE, SMARTTV: SMARTTV, TABLET: TABLET, WEARABLE: WEARABLE, EMBEDDED: EMBEDDED };UAParser.ENGINE = { NAME: NAME, VERSION: VERSION };UAParser.OS = { NAME: NAME, VERSION: VERSION };if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) !== UNDEF_TYPE) {\n      if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) !== UNDEF_TYPE && module.exports) {\n        exports = module.exports = UAParser;\n      }exports.UAParser = UAParser;\n    } else {\n      if ((typeof define === 'undefined' ? 'undefined' : _typeof(define)) === FUNC_TYPE && define.amd) {\n        define(function () {\n          return UAParser;\n        });\n      } else if (window) {\n        window.UAParser = UAParser;\n      }\n    }var $ = window && (window.jQuery || window.Zepto);if ((typeof $ === 'undefined' ? 'undefined' : _typeof($)) !== UNDEF_TYPE && !$.ua) {\n      var parser = new UAParser();$.ua = parser.getResult();$.ua.get = function () {\n        return parser.getUA();\n      };$.ua.set = function (uastring) {\n        parser.setUA(uastring);var result = parser.getResult();for (var prop in result) {\n          $.ua[prop] = result[prop];\n        }\n      };\n    }\n  })((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === \"object\" ? window : this); /**\n                                                                                                    * [js-sha256]{@link https://github.com/emn178/js-sha256}\n                                                                                                    *\n                                                                                                    * @version 0.3.2\n                                                                                                    * @author Chen, Yi-Cyuan [emn178@gmail.com]\n                                                                                                    * @copyright Chen, Yi-Cyuan 2014-2016\n                                                                                                    * @license MIT\n                                                                                                    */\n  (function (I) {\n    \"object\" == (typeof process === 'undefined' ? 'undefined' : _typeof(process)) && process.versions && process.versions.node && (I = global);var a = \"0123456789abcdef\".split(\"\"),\n        Q = [-2147483648, 8388608, 32768, 128],\n        C = [24, 16, 8, 0],\n        L = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],\n        c = [],\n        J = function J(a) {\n      return A(a, !0);\n    },\n        A = function A(D, _A) {\n      var K = \"string\" != typeof D;K && D.constructor == I.ArrayBuffer && (D = new Uint8Array(D));var m,\n          n,\n          p,\n          q,\n          r,\n          t,\n          u,\n          v,\n          e,\n          J = !0,\n          O = !1,\n          b,\n          B = 0,\n          M = 0,\n          P = 0,\n          N = D.length,\n          h,\n          d,\n          E,\n          F,\n          G,\n          H;_A ? (m = 3238371032, n = 914150663, p = 812702999, q = 4144912697, r = 4290775857, t = 1750603025, u = 1694076839, v = 3204075428) : (m = 1779033703, n = 3144134277, p = 1013904242, q = 2773480762, r = 1359893119, t = 2600822924, u = 528734635, v = 1541459225);e = 0;do {\n        c[0] = e;c[16] = c[1] = c[2] = c[3] = c[4] = c[5] = c[6] = c[7] = c[8] = c[9] = c[10] = c[11] = c[12] = c[13] = c[14] = c[15] = 0;if (K) for (b = M; B < N && 64 > b; ++B) {\n          c[b >> 2] |= D[B] << C[b++ & 3];\n        } else for (b = M; B < N && 64 > b; ++B) {\n          e = D.charCodeAt(B), 128 > e ? c[b >> 2] |= e << C[b++ & 3] : (2048 > e ? c[b >> 2] |= (192 | e >> 6) << C[b++ & 3] : (55296 > e || 57344 <= e ? c[b >> 2] |= (224 | e >> 12) << C[b++ & 3] : (e = 65536 + ((e & 1023) << 10 | D.charCodeAt(++B) & 1023), c[b >> 2] |= (240 | e >> 18) << C[b++ & 3], c[b >> 2] |= (128 | e >> 12 & 63) << C[b++ & 3]), c[b >> 2] |= (128 | e >> 6 & 63) << C[b++ & 3]), c[b >> 2] |= (128 | e & 63) << C[b++ & 3]);\n        }P += b - M;M = b - 64;B == N && (c[b >> 2] |= Q[b & 3], ++B);e = c[16];B > N && 56 > b && (c[15] = P << 3, O = !0);var w = m,\n            k = n,\n            l = p,\n            f = q,\n            x = r,\n            y = t,\n            z = u,\n            g = v;for (b = 16; 64 > b; ++b) {\n          d = c[b - 15], h = (d >>> 7 | d << 25) ^ (d >>> 18 | d << 14) ^ d >>> 3, d = c[b - 2], d = (d >>> 17 | d << 15) ^ (d >>> 19 | d << 13) ^ d >>> 10, c[b] = c[b - 16] + h + c[b - 7] + d << 0;\n        }H = k & l;for (b = 0; 64 > b; b += 4) {\n          J ? (_A ? (G = 300032, d = c[0] - 1413257819, g = d - 150054599 << 0, f = d + 24177077 << 0) : (G = 704751109, d = c[0] - 210244248, g = d - 1521486534 << 0, f = d + 143694565 << 0), J = !1) : (h = (w >>> 2 | w << 30) ^ (w >>> 13 | w << 19) ^ (w >>> 22 | w << 10), d = (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7), G = w & k, E = G ^ w & l ^ H, F = x & y ^ ~x & z, d = g + d + F + L[b] + c[b], h += E, g = f + d << 0, f = d + h << 0), h = (f >>> 2 | f << 30) ^ (f >>> 13 | f << 19) ^ (f >>> 22 | f << 10), d = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7), H = f & w, E = H ^ f & k ^ G, F = g & x ^ ~g & y, d = z + d + F + L[b + 1] + c[b + 1], h += E, z = l + d << 0, l = d + h << 0, h = (l >>> 2 | l << 30) ^ (l >>> 13 | l << 19) ^ (l >>> 22 | l << 10), d = (z >>> 6 | z << 26) ^ (z >>> 11 | z << 21) ^ (z >>> 25 | z << 7), G = l & f, E = G ^ l & w ^ H, F = z & g ^ ~z & x, d = y + d + F + L[b + 2] + c[b + 2], h += E, y = k + d << 0, k = d + h << 0, h = (k >>> 2 | k << 30) ^ (k >>> 13 | k << 19) ^ (k >>> 22 | k << 10), d = (y >>> 6 | y << 26) ^ (y >>> 11 | y << 21) ^ (y >>> 25 | y << 7), H = k & l, E = H ^ k & f ^ G, F = y & z ^ ~y & g, d = x + d + F + L[b + 3] + c[b + 3], h += E, x = w + d << 0, w = d + h << 0;\n        }m = m + w << 0;n = n + k << 0;p = p + l << 0;q = q + f << 0;r = r + x << 0;t = t + y << 0;u = u + z << 0;v = v + g << 0;\n      } while (!O);K = a[m >> 28 & 15] + a[m >> 24 & 15] + a[m >> 20 & 15] + a[m >> 16 & 15] + a[m >> 12 & 15] + a[m >> 8 & 15] + a[m >> 4 & 15] + a[m & 15] + a[n >> 28 & 15] + a[n >> 24 & 15] + a[n >> 20 & 15] + a[n >> 16 & 15] + a[n >> 12 & 15] + a[n >> 8 & 15] + a[n >> 4 & 15] + a[n & 15] + a[p >> 28 & 15] + a[p >> 24 & 15] + a[p >> 20 & 15] + a[p >> 16 & 15] + a[p >> 12 & 15] + a[p >> 8 & 15] + a[p >> 4 & 15] + a[p & 15] + a[q >> 28 & 15] + a[q >> 24 & 15] + a[q >> 20 & 15] + a[q >> 16 & 15] + a[q >> 12 & 15] + a[q >> 8 & 15] + a[q >> 4 & 15] + a[q & 15] + a[r >> 28 & 15] + a[r >> 24 & 15] + a[r >> 20 & 15] + a[r >> 16 & 15] + a[r >> 12 & 15] + a[r >> 8 & 15] + a[r >> 4 & 15] + a[r & 15] + a[t >> 28 & 15] + a[t >> 24 & 15] + a[t >> 20 & 15] + a[t >> 16 & 15] + a[t >> 12 & 15] + a[t >> 8 & 15] + a[t >> 4 & 15] + a[t & 15] + a[u >> 28 & 15] + a[u >> 24 & 15] + a[u >> 20 & 15] + a[u >> 16 & 15] + a[u >> 12 & 15] + a[u >> 8 & 15] + a[u >> 4 & 15] + a[u & 15];_A || (K += a[v >> 28 & 15] + a[v >> 24 & 15] + a[v >> 20 & 15] + a[v >> 16 & 15] + a[v >> 12 & 15] + a[v >> 8 & 15] + a[v >> 4 & 15] + a[v & 15]);return K;\n    };!I.JS_SHA256_TEST && \"object\" == (typeof module === 'undefined' ? 'undefined' : _typeof(module)) && module.exports ? (A.sha256 = A, A.sha224 = J, module.exports = A) : I && (I.sha256 = A, I.sha224 = J);\n  })(this);\n\n  // here right after injection, libs are injected at window.\n  djatyLibs.forEach(function (lib) {\n    var name = lib.name;\n    Djaty.libs[name] = window[name];\n\n    // Now delete the added lib and if it was already at window restore it.\n    window[name] = oldLibs[name];\n  });\n\n  // If lib deals with this as if it was the window obj, \"this\" inside our closure\n  // is not the window (undefined because of 'use strict');\n}).call(window, Djaty, libs);\n//# sourceMappingURL=libWrapper.js.map\n\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* eslint-disable max-lines */\n/**\n* An object to wrap our commonly used functions.\n*/\n\n/* global HTMLElement, Event */\nvar utils = Djaty.utils = Djaty.utils.assign(Djaty.utils, {\n  /**\n   * Search array of object for matching key values.\n   *\n   * @param  {Array} arr\n   * @param  {String} key\n   * @param  {String} value\n   * @return {Array}\n   */\n  find: function find(arr, key, value) {\n    // Error Handling\n    if (!Array.isArray(arr)) {\n      throw new Error('Make sure you pass \"find\" arr parameter as an aray');\n    }\n\n    return arr.filter(function (obj) {\n      return obj[key] === value ? obj : false;\n    });\n  },\n\n\n  /**\n    * Return an event handler where the scope refer to the current element\n    * Also pass to it the class instance it's working on\n    * Use this function for all event handlers inside classes.\n    *\n    * @param  {Object} instance of the current class\n    * @param  {Function} handler (Usually, a member method in the class)\n    *         This method should accept the class instance as a new parameter\n    * @return {Function} A function with a normal 'this' scope\n    */\n  getEventHandler: function getEventHandler(instance, handler) {\n    // Error Handling\n    if (!(instance instanceof Object)) {\n      throw new Error('Make sure you pass \"getEventHandler\" instance parameter as an object');\n    }\n\n    if (typeof handler !== 'function') {\n      throw new Error('Make sure you pass \"getEventHandler\" handler parameter as a function');\n    }\n\n    return function eventHandler(ev) {\n      handler.call(this, ev, instance);\n    };\n  },\n\n\n  /**\n   * Check if element is a DOM element and throw errors if not.\n   *\n   * @param  {String} label : Class name\n   * @param  {Object} selectorOrEl:\n   *         Accepts string selectorOrEl that match only one DOM element or accepts an object.\n   * @param  {String} tagName : DOM element with a certain tag name.\n   * @param  {HTMLElement} lookup : DOM element to limit the search scope.\n   * @return {HTMLElement}\n   */\n  getElementFromSelectorOrEl: function getElementFromSelectorOrEl(label, selectorOrEl) {\n    var tagName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var lookup = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : document;\n\n    // Error Handling\n    if (typeof label !== 'string') {\n      throw new Error('Make sure you pass \"getElementFromSelectorOrEl\" label parameter as a string');\n    }\n\n    if (typeof selectorOrEl === 'string') {\n      var elements = lookup.querySelectorAll(selectorOrEl);\n      if (!elements.length) {\n        throw new Error(label + ' can\\'t find any DOM elements with passed selectorOrEl');\n      }\n\n      if (elements.length > 1) {\n        throw new Error(label + ' can\\'t accept more than one DOM element');\n      }\n\n      if (tagName && elements[0].tagName.toLowerCase() !== tagName.toLowerCase()) {\n        throw new Error(label + ' current selectorOrEl is not ' + tagName);\n      }\n\n      return elements[0];\n    }\n\n    if (utils.isDomElement(selectorOrEl)) {\n      if (tagName && selectorOrEl.tagName.toLowerCase() !== tagName.toLowerCase()) {\n        throw new Error(label + ' current selectorOrEl is not ' + tagName);\n      }\n      return selectorOrEl;\n    }\n\n    throw new Error(label + ' expects selectorOrEl parameter to be ' + 'either \"String\" or \"HTMLElement\"');\n  },\n\n\n  /* eslint-disable no-tabs */\n  /**\n   * Validate class options against an option structure object.\n   *\n   * Example for the option structure object:\n   *   const optStruct = {\n   *     option: {\n   *       // Required keys\n   *       type: 'string',\n   *\n   *       // Optional keys\n   *       allowedValues: ['foo', 'bar'],\n   *\n   *\t\t\t// Optional-conditional keys\n   *   \t\tchildType: 'selectorOrEl' (Valid only with option \"type: array\")\n   *\n   *       // Optional keys with default of true\n   *       required: false,\n   *     },\n   *   };\n   *\n   * @param  {String} label : Class name\n   * @param  {Object} optStruct : key/value opt structure\n   * @param  {Object} opt\n   * @return {void}\n   */\n  /* eslint-disable no-tabs */\n\n  assertValidOpts: function assertValidOpts(label, optStruct, opt) {\n    if (typeof label !== 'string') {\n      throw new Error('Make sure you pass \"assertValidOpts\" label parameter correctly');\n    }\n\n    if (!(optStruct instanceof Object)) {\n      throw new Error('Make sure you pass \"assertValidOpts\" optStruct parameter correctly');\n    }\n\n    if (!(opt instanceof Object)) {\n      throw new Error(label + ' expects opt parameter to be an object');\n    }\n\n    utils.forOwn(optStruct, function (attr, curStruct) {\n      var optAttr = opt[attr];\n      if (!optAttr) {\n        return;\n      }\n\n      var allowedValues = curStruct.allowedValues;\n      var required = curStruct.required === false ? curStruct.required : true;\n\n      if (required && typeof optAttr === 'undefined') {\n        throw new Error(label + ' expects opt parameter to have ' + attr + ' attribute');\n      }\n\n      // Check if object is an custom/plain object and not any built-in object\n      // like Arrays, Functions...\n      if (curStruct.type === 'object' && curStruct.properties && optAttr.toString() === '[object Object]') {\n        utils.assertValidOpts(label, curStruct.properties, optAttr);\n      }\n\n      // eslint-disable-next-line valid-typeof\n      if ((typeof optAttr === 'undefined' ? 'undefined' : _typeof(optAttr)) !== curStruct.type && curStruct.type !== 'array' && curStruct.type !== 'selectorOrEl' || curStruct.type === 'array' && !Array.isArray(optAttr)) {\n        throw new Error(label + ' expects opt ' + attr + ' to be ' + curStruct.type);\n      }\n\n      if (curStruct.type === 'selectorOrEl') {\n        if (!utils.isDomElement(optAttr) && typeof optAttr !== 'string') {\n          throw new Error(label + ' expects opt ' + attr + ' to be ' + curStruct.type);\n        }\n\n        if (typeof optAttr === 'string') {\n          var elements = document.querySelectorAll(optAttr);\n          if (!elements.length) {\n            throw new Error(label + ' expects opt ' + attr + ' to be ' + curStruct.type);\n          }\n        }\n      }\n\n      if (curStruct.type === 'array' && curStruct.childType) {\n        optAttr.forEach(function (child) {\n          var optChildsStruct = {};\n          optChildsStruct[attr + ' childs'] = { type: curStruct.childType };\n          var optChilds = {};\n          optChilds[attr + ' childs'] = child;\n          utils.assertValidOpts(label, optChildsStruct, optChilds);\n        });\n      }\n\n      if (allowedValues && allowedValues.indexOf(optAttr) < 0) {\n        // check if the value is allowed\n        throw new Error(label + ' expects ' + attr + ' value options to be one of ' + ('\"' + allowedValues.join(', ') + '\"'));\n      }\n    });\n  },\n\n\n  /**\n   * Check for adding optional properties or not depending on trackingOptions in config\n   *\n   * @param {String}  tracker\n   * @param {Object}  formattedObj\n   * @param {String}  propName\n   * @param {Object}  data\n   * @param {Object}  trackingOptions\n   * @return {boolean}\n   */\n  resolveProperty: function resolveProperty(tracker, formattedObj, propName, data, trackingOptions) {\n    if (trackingOptions[tracker][propName]) {\n      formattedObj[propName] = data;\n      return true;\n    }\n\n    return false;\n  },\n\n  /** ************************ Handling cross-browsers ********************** */\n  /**\n   * Handle cross-browsers horizontal mouse/touch position.\n   *\n   * @param   {Event} ev : The event handler obj\n   * @param   {String} axis : could be only 'x' or 'y'\n   * @return  {Number}\n   */\n  normalizedPointerPos: function normalizedPointerPos(ev, axis) {\n    // Error Handling\n    var ptr = /mousemove|mouseup|mousedown|touchstart|touchend|touchmove/;\n    if (!(ev instanceof Event && ptr.test(ev.type))) {\n      // Check if ev is an Event object\n      throw new Error('\"normalizedPointerPos\" expects ev parameter to be an Event object');\n    }\n\n    if (typeof axis !== 'string' || ['x', 'y'].indexOf(axis) < 0) {\n      throw new Error('\"normalizedPointerPos\" expects axis parameter to be \"x\" or \"y\"');\n    }\n\n    var axisUC = axis.toUpperCase();\n    var normalizedEvent = ev.touches ? ev.touches[0] : ev;\n\n    if (normalizedEvent['page' + axisUC]) {\n      return normalizedEvent['page' + axisUC];\n    }\n\n    if (normalizedEvent['client' + axisUC]) {\n      var scrollStr = 'scroll' + (axisUC === 'X' ? 'Left' : 'Top');\n      var docElScroll = document.documentElement[scrollStr];\n      var bodyElScroll = document.body[scrollStr];\n      var scrollVal = docElScroll || bodyElScroll;\n\n      return normalizedEvent['client' + axisUC] + scrollVal;\n    }\n\n    return -1;\n  },\n\n  /**\n   * AsyncLoop loop over array of functions and end of every function call next function of\n   * this array and last param last function you want call.\n   *\n   * Example:\n   *\n   * let f1 = (a, b, c, nextCb) => {\n   *    console.info('f1', a, b, c);\n   *    nextCb(++a, ++b, ++c);\n   *  }\n   * let f2 = (a, b, c, nextCb) => {\n   *    console.info('f2', a, b, c);\n   *    nextCb(++a, ++b, ++c);\n   *  }\n   *\n   * asyncLoop([f1, f2], [1, 2, 3], window, (a, b, c) => {\n   *   console.info('done', a, b, c)\n   * })\n   *\n   * Output:\n   * f1 1 2 3\n   * f2 2 3 4\n   * done 3 4 5\n   * @param {Array} funcArr\n   * @param {Array} initArgs\n   * @param {Object} ctx\n   * @param {Function} doneCb\n   */\n  asyncLoop: function asyncLoop(funcArr, initArgs, ctx, doneCb) {\n    var i = 0;\n    function next() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (i === funcArr.length) {\n        doneCb.apply(ctx, args);\n        return;\n      }\n      var newArgs = args.concat(next);\n      // Note: we increase 'i' before calling the function in case\n      // In case the function called the callback synchronously\n      funcArr[i++].apply(ctx, newArgs);\n    }\n    next.apply(ctx, initArgs);\n  },\n\n  /**\n   * convert string to Array of object pairs of name:value\n   *\n   * @param {String} str string for splitting\n   * @param {String} splitter 'new line or ;'\n   * @param {String} op ' = or : '\n   * return {Object}\n   */\n  convertStrToPair: function convertStrToPair(str, splitter, op) {\n    if (typeof str !== 'string') {\n      return [];\n    }\n\n    var keyValueArray = [];\n    var strList = str.split(splitter);\n    for (var i = 0; i < strList.length; i++) {\n      var keyValue = strList[i].split(op);\n      if (keyValue.length < 2) {\n        continue;\n      }\n\n      keyValueArray.push({ name: keyValue[0], value: keyValue[1] });\n    }\n    return keyValueArray;\n  },\n\n  /**\n    * Savely append elements into Djaty DOM element.\n    *\n    * @param  {Object} selectorOrEl\n    * @return  {void}\n    */\n  appendIntoOrCreateDjaty: function appendIntoOrCreateDjaty(selectorOrEl) {\n    var element = this.getElementFromSelectorOrEl('utils.appendIntoDjaty()', selectorOrEl);\n    var djatyEl = document.body.querySelector('.djaty');\n\n    if (djatyEl) {\n      return djatyEl.appendChild(element);\n    }\n\n    djatyEl = document.createElement('div');\n    djatyEl.className = 'djaty';\n    djatyEl.classList.add('djaty-tool-hidden');\n    document.body.appendChild(djatyEl);\n\n    djatyEl.appendChild(element);\n    return element;\n  },\n  someObject: function someObject(object, cb) {\n    if (!(object instanceof Object)) {\n      throw new Error('Make sure you pass \"someObject\" obj parameter as an object');\n    }\n\n    if (typeof cb !== 'function') {\n      throw new Error('Make sure you pass \"someObject\" cb parameter as a function');\n    }\n\n    var has = Object.prototype.hasOwnProperty;\n    var obj = Object(object);\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (var x in obj) {\n      if (!has.call(obj, x)) {\n        continue;\n      }\n\n      if (cb(x, obj[x])) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * Create Ajax.\n   *\n   * @param {String} method\n   * @param {String} reqUrl\n   * @param {Object} data\n   * @param {Function} cb\n   * @returns\n   */\n  _ajax: function _ajax(method, reqUrl, data, cb) {\n    if (typeof cb !== 'function') {\n      cb = data;\n      data = undefined;\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, reqUrl, true);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n\n    // To work with credentials, CORS allow header must not be '*' it must be the original domain\n    // which is dynamic in our case and cannot be fixed.\n    // xhr.withCredentials = true;\n    xhr.onreadystatechange = function () {\n      // If request not complete or Initial OPTIONS CORS response received.\n      if (xhr.readyState !== 4 || xhr.status === 204) {\n        return;\n      }\n      var responseText = xhr.responseText;\n      responseText = responseText && responseText.replace(')]}\\',\\n', '');\n      var response = void 0;\n      // If errors, time out or if browser prevented the request for any reason\n      // (MixedContent for example).\n      try {\n        response = responseText ? JSON.parse(responseText) : {};\n      } catch (err) {\n        response = { response: responseText };\n      }\n\n      if (xhr.status >= 400 || xhr.status === 0) {\n        var err = {};\n        // Don't use new Error(response) as response could be an object\n        err.response = response;\n        err.status = xhr.status;\n        cb(err);\n        return;\n      }\n      cb(null, response);\n    };\n\n    if (data) {\n      xhr.send(data);\n      return;\n    }\n\n    xhr.send();\n  },\n\n\n  spinner: {\n    isSpin: false,\n    externalMethodHandler: {},\n    nodeListeners: [],\n    init: function init(externalMethodHandler) {\n      utils.spinner.externalMethodHandler = externalMethodHandler;\n    },\n    spin: function spin() {\n      var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      var _this = this;\n\n      var actions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var block = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (actions && !Array.isArray(actions)) {\n        throw new Error('spin expects \"actions\" parameter to be Array');\n      }\n\n      utils.spinner.isSpin = true;\n      var body = document.body;\n      var djatyEl = body.querySelector('.djaty');\n      var spinner = body.querySelector('.spinner-backdrop');\n      if (!spinner) {\n        var spinnerEl = this._getSpinnerEl();\n        spinner = utils.appendIntoOrCreateDjaty(spinnerEl);\n      }\n      if (actions.length) {\n        spinner.classList.add('with-actions');\n      } else {\n        spinner.classList.remove('with-actions');\n      }\n      this.spinnerActions = spinner.querySelector('.actions');\n      this.spinnerText = spinner.querySelector('.text');\n\n      // Remove whole actions to remove all exist btns with their handlers.\n      // Helpful if user called spin twice without calling stopSpin();\n      this.spinnerActions.innerHTML = '';\n\n      actions.forEach(function (action) {\n        var btn = document.createElement('button');\n        btn.className = 'djaty-btn btn-submit ' + action.class;\n        btn.innerText = action.name;\n\n        if (action.info) {\n          var infoSpan = document.createElement('span');\n          infoSpan.className = 'info';\n          infoSpan.innerText = '?';\n          infoSpan.title = action.info;\n          btn.appendChild(infoSpan);\n        }\n\n        Djaty.utils.addEventListenerAndSaveIt([{ nodeListeners: Djaty.utils.spinner.nodeListeners,\n          node: btn,\n          eventName: 'click',\n          cb: action.handler }]);\n        _this.spinnerActions.appendChild(btn);\n      });\n\n      if (text) {\n        this.spinnerText.innerText = text + '...';\n      }\n\n      if (block) {\n        spinner.classList.add('block-spinner');\n      } else {\n        spinner.classList.remove('block-spinner');\n      }\n\n      this.spinnerActions.classList.add('show');\n      djatyEl.classList.add('spin');\n      utils.spinner.externalMethodHandler.callMethod('djatyExt.disableDjatyIcon', function () {\n        Djaty.logger.info('Disable djaty icon during spinning');\n      });\n    },\n\n\n    /**\n     * Show spinner.\n     *\n     * @return void\n     */\n    stopSpin: function stopSpin() {\n      var djatyEl = document.body.querySelector('.djaty');\n      Djaty.utils.spinner.nodeListeners.forEach(function (listen) {\n        Djaty.utils.originalRemoveEventListener.call(listen.node, listen.eventName, listen.cb);\n      });\n      Djaty.utils.spinner.nodeListeners = [];\n\n      if (!djatyEl.classList.contains('spin')) {\n        return;\n      }\n\n      utils.spinner.isSpin = false;\n\n      djatyEl.classList.remove('spin');\n      this.spinnerText.innerText = '';\n      this.spinnerActions.classList.remove('show');\n\n      // Remove whole actions to remove all exist buttons with their handlers.\n      this.spinnerActions.innerHTML = '';\n      utils.spinner.externalMethodHandler.callMethod('djatyExt.enableDjatyIcon', function () {\n        Djaty.logger.info('Enable djaty icon after spinning');\n      });\n    },\n    _getSpinnerEl: function _getSpinnerEl() {\n      var tpl = '\\n          <div class=\"spinner-content\">\\n            <div class=\"spinner\"></div>\\n            <div class=\"text\"></div>\\n            <div class=\"actions\">\\n            </div>\\n            <p class=\"djaty-marker-spin\">Djaty</p>\\n          </div>\\n      ';\n      var div = document.createElement('div');\n      div.className = 'spinner-backdrop';\n      div.innerHTML = tpl;\n      return div;\n    }\n  },\n\n  removeCircular: function removeCircular(data) {\n    var hasProp = Object.prototype.hasOwnProperty;\n\n    function throwsMessage(err) {\n      return '[Throws: .' + (err ? err.message : '?') + '.]';\n    }\n\n    function safeGetValueFromPropertyOnObject(obj, property) {\n      if (hasProp.call(obj, property)) {\n        try {\n          return obj[property];\n        } catch (err) {\n          Djaty.logger.error('Catch removeCircular bug', err);\n          return throwsMessage(err);\n        }\n      }\n\n      return obj[property];\n    }\n\n    var seen = []; // store references to objects we have seen before\n\n    function visit(obj) {\n      if (obj === null || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n        return obj;\n      }\n\n      if (seen.indexOf(obj) !== -1) {\n        return '[Circular]';\n      }\n      seen.push(obj);\n      if (obj instanceof HTMLElement) {\n        return '[DOM ELEMENT]';\n      }\n\n      if (obj instanceof Error) {\n        return {\n          message: obj.message,\n          stack: obj.stack\n        };\n      }\n\n      if (typeof obj.toJSON === 'function') {\n        try {\n          return visit(obj.toJSON());\n        } catch (err) {\n          Djaty.logger.error('Catch removeCircular visit bug', err);\n          return throwsMessage(err);\n        }\n      }\n\n      if (Array.isArray(obj)) {\n        return obj.map(visit);\n      }\n\n      return Object.keys(obj).reduce(function (result, prop) {\n        // prevent faulty defined getter properties\n        result[prop] = visit(safeGetValueFromPropertyOnObject(obj, prop));\n        return result;\n      }, {});\n    }\n    return visit(data);\n  },\n  sizeOfObject: function sizeOfObject(object, limit) {\n    var objectList = [];\n    var result = {\n      size: 0,\n      uniqueStr: ''\n    };\n    var exceedLimit = false;\n    function recurse(value) {\n      if (limit && result.size >= limit) {\n        return -1;\n      }\n\n      if (typeof value === 'boolean') {\n        result.size += 4;\n      } else if (typeof value === 'string') {\n        result.size += value.length * 2;\n      } else if (typeof value === 'number') {\n        result.size += 8;\n      } else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && objectList.indexOf(value) === -1) {\n        objectList.push(value);\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\n        for (var i in value) {\n          if (exceedLimit) {\n            return result;\n          }\n\n          if (objectList.length === 1) {\n            result.uniqueStr += i + '_' + (typeof i === 'undefined' ? 'undefined' : _typeof(i)) + '_' + i.length + ';';\n          }\n          result.size += 8; // an assumed existence overhead\n          if (recurse(value[i]) === -1) {\n            exceedLimit = true;\n            result.size = -1;\n            return result;\n          }\n          // setTimeout(() => recurse(value[i]) === -1 && cb(-1));\n        }\n      }\n\n      return result;\n    }\n\n    return recurse(object);\n  },\n  limitString: function limitString(title, limit) {\n    if (typeof title !== 'string') {\n      throw new Error('Title should be string');\n    }\n\n    return title.length > limit ? title.substring(0, limit) + '...' : title;\n  },\n  generateSelect2El: function generateSelect2El(selector, options) {\n    var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var select2El = Djaty.libs.$(selector).select2(options);\n    var isSelected = false;\n\n    data.forEach(function (item) {\n      var optionEl = Djaty.libs.$('<option></option>').attr('value', item.id).html(item.text);\n      if (item.selected) {\n        isSelected = true;\n        optionEl.attr('selected', item.selected);\n      }\n\n      select2El.append(optionEl);\n    });\n\n    select2El.data('select2').on('results:message', function onMsg() {\n      this.dropdown._positionDropdown();\n    });\n\n    select2El[0].disabled = false;\n\n    return Array.isArray(select2El.val()) || isSelected ? select2El : select2El.val(null).trigger('change');\n  }\n});\n//# sourceMappingURL=utils.js.map\n\n'use strict';\n\n/**\n * Browser Data\n *\n */\n// eslint-disable-next-line no-unused-vars\nvar browserData = {\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n  /**\n   * Get browser storage data like localStorage, sessionStorage, cookies, ...\n   *\n   * @return void\n   */\n  getData: function getData() {\n    var data = {};\n    var dataStores = ['localStorage', 'sessionStorage'];\n\n    // get all data\n    dataStores.forEach(function (store) {\n      // Get cloned data to prevent editing the real data.\n      var storeData = window[store] ? window[store] : {};\n      data[store] = Djaty.utils.assign({}, storeData);\n    });\n\n    data.cookies = document.cookie;\n\n    // remove internal Djaty data\n    delete data.localStorage.DjatyTracking;\n\n    // Read IndexedDB data .. according to Basem, let it for now\n    // if (window.indexedDB) {\n    //   window.indexedDB.webkitGetDatabaseNames().addEventListener('success', ev => {\n    //     Djaty.utils.forOwn(ev.target.result, (key, dbName) => {\n    //       if (!isNaN(key)) {\n    //         console.log(dbName);\n    //       }\n    //     });\n    //   });\n    // }\n\n    return data;\n  }\n};\n//# sourceMappingURL=browserData.js.map\n\n'use strict';\n\n/**\n * Handling server availability if server offline delay after x**NumberOfRetry sec.\n *\n */\n// eslint-disable-next-line no-unused-vars\nvar buffer = {\n  bufferRequests: [],\n  numberOfRetry: 0,\n  isInitialized: false,\n  timeOutRef: null,\n  elementsPerRequest: 0,\n  bufferRequestLimit: 0,\n  serverDelayTime: 0,\n  offset: 0,\n  autoSubmittedErrorEndPoint: '',\n  projectId: undefined,\n  appendedData: {},\n  shouldBeDestroyed: false,\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n  /**\n   * Initialize throttle module\n   *\n   * @params  {Object} data\n   * return {Object}\n   */\n  init: function init(data) {\n    this.isInitialized = true;\n    this.elementsPerRequest = Djaty.constants.elementsPerRequest;\n    this.bufferRequestLimit = Djaty.constants.bufferRequestLimit;\n    this.serverDelayTime = Djaty.constants.serverDelayTime;\n    this.appendedData = data;\n    return this;\n  },\n\n\n  /**\n   * Destroy buffer module\n   *\n   * Return void\n   */\n  destroy: function destroy() {\n    if (this.bufferRequests.length) {\n      this.shouldBeDestroyed = true;\n\n      return;\n    }\n\n    this.isInitialized = false;\n    clearTimeout(this.timeOutRef);\n    this.elementsPerRequest = 0;\n    this.serverDelayTime = 0;\n    this.autoSubmittedErrorEndPoint = '';\n    this.projectId = '';\n    this.appendedData = {};\n  },\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n   * Check if server is online or not in case not save requests and recall after delay.\n   *\n   * @param request\n   * @private\n   */\n  manageBuffer: function manageBuffer(request) {\n    if (typeof Djaty.config.apiKey !== 'string') {\n      throw new Error('apiKey required');\n    }\n\n    if (!this.isInitialized) {\n      throw new Error('You should initialize buffer module before using it.');\n    }\n\n    this.bufferRequests = this.bufferRequests.concat(request);\n    // If making requests and server still offline discard from beginning to don't exceed limit\n    if (this.bufferRequests.length > this.bufferRequestLimit) {\n      this.bufferRequests.shift();\n    }\n\n    if (this.timeOutRef) {\n      return;\n    }\n\n    var patch = this.appendedData;\n    patch.apiKey = Djaty.config.apiKey;\n    var bestLength = request.length;\n    if (request.length === 0) {\n      bestLength = this.bufferRequests.length > this.elementsPerRequest ? this.elementsPerRequest : this.bufferRequests.length;\n    }\n\n    patch.agentDataPatch = this.bufferRequests.slice(this.offset, this.offset + bestLength);\n    if (!this.timeOutRef) {\n      this.offset += bestLength;\n    }\n\n    if (!patch.agentDataPatch.length) {\n      this.offset = 0;\n\n      if (this.shouldBeDestroyed) {\n        this.shouldBeDestroyed = false;\n        this.destroy();\n      }\n\n      return;\n    }\n\n    this._submitRequest(Djaty.utils.assign({}, patch));\n  },\n\n  /**\n   * Connect to server and if it offline fire it again on the same requests.\n   *\n   * @private\n   */\n  _submitRequest: function _submitRequest(patch) {\n    var _this = this;\n\n    var strPatch = JSON.stringify(patch);\n    if (Djaty.config.trackingOptions.removeEmail) {\n      strPatch = strPatch.replace(/[0-9a-z._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}/gi, Djaty.constants.privacyPlaceHolder);\n    }\n\n    var url = Djaty.config.bugsURL + Djaty.config.api + Djaty.config.apiBugsUrl;\n\n    Djaty.utils.djatyAjax('POST', url, strPatch, function (err) {\n      // If server is offline delay 'delayTime' sec and increase 'numberOfRetry' and try again\n      if (err && (err.status >= 500 || err.status === 0)) {\n        buffer._serverError(function () {\n          _this._submitRequest(patch);\n        });\n\n        return;\n      }\n\n      _this.numberOfRetry = 0;\n      var IndexOfRequest = buffer.bufferRequests.indexOf(patch.agentDataPatch[0]);\n      buffer.bufferRequests.splice(IndexOfRequest, IndexOfRequest + patch.agentDataPatch.length);\n      _this.offset -= patch.agentDataPatch.length;\n\n      // Sending other patches after patch sending failure and connection returned\n      // resend failed patch then other stored patches\n      if (buffer.bufferRequests.length) {\n        buffer.manageBuffer([]);\n      }\n    });\n  },\n\n  /**\n   * Check if return Error retry.\n   *\n   * @private\n   */\n  _serverError: function _serverError(cb) {\n    var _this2 = this;\n\n    var delayTime = Math.pow(100, this.numberOfRetry);\n\n    // If time more than x min retry every x min.\n    if (delayTime > this.serverDelayTime) {\n      delayTime = this.serverDelayTime;\n    }\n\n    // If server still offline increase 'numberOfRetry' to increase delay time.\n    this.numberOfRetry++;\n    this.timeOutRef = Djaty.utils.djatySetTimeout(function () {\n      _this2.timeOutRef = undefined;\n      cb();\n    }, delayTime);\n  }\n};\n//# sourceMappingURL=buffer.js.map\n\n'use strict';\n\n/**\n * Throttling error requests\n * Managing incoming requests to send x request per y sec\n *\n */\n/* global  buffer */\n\n// eslint-disable-next-line no-unused-vars\nvar throttle = {\n  requests: [],\n  isInitialized: false,\n  timeoutRef: null,\n  elementsPerRequest: 0,\n  delayTimePerRequest: 0,\n  elementsForAllRequests: 0,\n  buffer: null,\n  shouldBeDestroyed: false,\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n  /**\n   * Initialize throttle module\n   *\n   * @param  {Object} data\n   * return {Object}\n   */\n  init: function init(data) {\n    this.isInitialized = true;\n    this.elementsPerRequest = Djaty.constants.elementsPerRequest;\n    this.elementsForAllRequests = Djaty.constants.elementsForAllRequests;\n    this.delayTimePerRequest = Djaty.constants.delayTimePerRequest;\n    this.buffer = buffer.init(data);\n    return this;\n  },\n\n  /**\n   * This method manage requests to send x 'elementsPerRequest' to y second.\n   *\n   * @param {Array} request\n   * return void\n   */\n  ManageThrottling: function ManageThrottling(request) {\n    if (!this.isInitialized) {\n      throw new Error('You should initialize throttle module before using it.');\n    }\n    // Storing all request to array expect empty one.\n    this.requests.push(request);\n\n    // If making requests and timeout still process discard from beginning to don't exceed limit\n    if (this.requests.length > this.elementsForAllRequests) {\n      this.requests.shift();\n    }\n\n    // Don't make anther timeout when i actually making one.\n    if (this.timeoutRef) {\n      return;\n    }\n    // Serve 'elementsPerRequest' request if 'requests' not empty call it again and serve\n    // 'elementsPerRequest' so on after 'delayTimePerRequest'.\n    (function serveAllRequests() {\n      throttle.timeoutRef = Djaty.utils.djatySetTimeout(function () {\n        throttle.buffer.manageBuffer(throttle.requests.splice(0, throttle.elementsPerRequest));\n        throttle.timeoutRef = undefined;\n        // If there more requests in our object they need to serve so recall\n        // ManageThrottling again with empty object till serve all requests.\n        if (throttle.requests.length) {\n          serveAllRequests();\n\n          return;\n        }\n\n        if (throttle.shouldBeDestroyed) {\n          throttle.shouldBeDestroyed = false;\n          throttle.destroy();\n        }\n      }, throttle.delayTimePerRequest);\n    })();\n  },\n\n  /**\n   * Destroy throttle module\n   *\n   * return void\n   */\n  destroy: function destroy() {\n    if (this.requests.length) {\n      this.shouldBeDestroyed = true;\n\n      return;\n    }\n\n    this.isInitialized = false;\n    clearTimeout(this.timeoutRef);\n    this.elementsPerRequest = 0;\n    this.elementsForAllRequests = 0;\n    this.delayTimePerRequest = 0;\n    buffer.destroy();\n  }\n};\n//# sourceMappingURL=throttling.js.map\n\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function () {\n  /**\n   * Djaty Tracking Parent App Singleton Object.\n   *\n   * This object help building the tracking process in terms of modules. Every module/component\n   * registers itself and this object control and manage them.\n   *\n   * This file is combined with other tracking files using 'gulp' then the generated\n   * file will be injected by the extension or manually by including the file.\n   */\n\n  /* global LocalStorageWrapper, browserData , throttle, autoReport */\n\n  Djaty.trackingApp = {\n    trackers: {},\n\n    // localStorage similar to database connections.\n    localStorage: null,\n    isInitiated: false,\n    agentId: 'jsFrontendAgent',\n    agentVersion: '1.0.0',\n    throttleModule: null,\n    submitterCb: null,\n    /* ######################################################################## */\n    /* ############################# PUBLIC METHODS ########################### */\n    /* ######################################################################## */\n\n    /** *************************** Initializing Obj ************************** */\n    /**\n     * Initialization this object by initialization all components.\n     *\n     * @return void\n     */\n    init: function init() {\n      var _this = this;\n\n      // Prevent calling Djaty.init() twice and don't init trackingApp if initApp not initialized.\n      if (this.isInitiated || !Djaty.initApp.isInitiated) {\n        return;\n      }\n\n      this.isInitiated = true;\n\n      // Prevent initialization without registering the storage.\n      if (!this.localStorage || !this.memoryStorage) {\n        throw new Error('Please register Djaty Storage first');\n      }\n\n      try {\n        Djaty.logger.info('Init trackingApp');\n        Djaty.utils.djatySetTimeout = Djaty.utils.getTryCatchHandler('setTimeout', window);\n        Djaty.utils.djatyAjax = Djaty.utils.getTryCatchHandler('_ajax', Djaty.utils);\n        var initApp = Djaty.initApp;\n\n        initApp.addInFrontOfSubmitHandler(this._filterSecret);\n\n        // initialize throttle module and save it to tracking app.\n        if (!throttle.isInitialized) {\n          var agentConstData = this.getAgentConstData();\n          Djaty.utils.forOwn(Djaty.config, function (propName, prop) {\n            if (propName === 'tags' && prop.length > 0 || propName === 'stage' && prop.length > 0) {\n              agentConstData[propName] = prop;\n            }\n          });\n\n          this.throttleModule = throttle.init(agentConstData);\n        }\n\n        // initialize auto report module and save it to trackingApp.\n        if (!autoReport.isInitiated) {\n          var _autoReport;\n\n          var _agentConstData = this.getAgentConstData();\n          delete _agentConstData.release;\n\n          var usedTrackerInAutoReport = ['console', 'exception'].map(function (tracker) {\n            return _this.trackers[tracker].timelineFormatter.bind(_this.trackers[tracker]);\n          });\n\n          this.autoReportModule = (_autoReport = autoReport).init.apply(_autoReport, [_agentConstData].concat(_toConsumableArray(usedTrackerInAutoReport)));\n        }\n\n        // Iterate over trackers\n        Djaty.utils.forOwn(this.trackers, function (itemType, tracker) {\n          // Get initial tracker and send it to the tracker.\n          var localStorageWrapper = new LocalStorageWrapper(itemType, _this.localStorage);\n\n          // Initiate every tracker object\n          tracker.init(localStorageWrapper);\n        });\n\n        // Destroy disabled trackers.\n        Djaty.utils.forOwn(Djaty.constants.itemType, function (itemKey, itemValue) {\n          if (!Djaty.config.trackingOptions[itemValue]) {\n            initApp.trackers[itemValue].destroy();\n          }\n        });\n\n        // Format initialFormData\n        Djaty.initApp.initialFormData.forEach(function (formItem) {\n          Djaty.trackingApp.trackers.form.timelineFormatter(formItem);\n        });\n\n        Djaty.initApp.initialFormData = [];\n\n        Djaty.trackingApp._formatInitAppTimelineItems(0);\n      } catch (err) {\n        Djaty.logger.error('Catch Init trackingApp with error', err);\n      }\n    },\n\n\n    /**\n     * Destroy this object by destroy all components.\n     *\n     * @return void\n     */\n    // eslint-disable-next-line no-unused-vars\n    destroy: function destroy() {\n      Djaty.logger.info('Destroy trackingApp');\n      if (!this.isInitiated) {\n        return;\n      }\n\n      this.isInitiated = false;\n      this.throttleModule.destroy();\n      this.autoReportModule.destroy();\n      this.timeline = Djaty.initApp.timeline;\n    },\n\n\n    /**\n     * Format initApp timeline items\n     *\n     * @param length\n     * @private\n     */\n    _formatInitAppTimelineItems: function _formatInitAppTimelineItems(length) {\n      try {\n        if (length >= Djaty.initApp.timeline.length) {\n          Djaty.initApp.regCoreTrackingCb(Djaty.trackingApp._onTrackingCb);\n          if (Djaty.initApp.timeline.length < Djaty.config.timelineLimit) {\n            return;\n          }\n\n          Djaty.initApp.timeline.splice(0, length - Djaty.config.timelineLimit + 1);\n          Djaty.initApp.timeline.unshift({ itemType: 'trimming' });\n\n          return;\n        }\n\n        // Remove un-tracked items\n        if (!Djaty.config.trackingOptions[Djaty.initApp.timeline[length].itemType]) {\n          Djaty.initApp.timeline.splice(length, 1);\n          Djaty.trackingApp._formatInitAppTimelineItems(length);\n\n          return;\n        }\n\n        var item = Djaty.initApp.timeline[length];\n\n        // We have two type of items:\n        // - Normal items: We get all details of the timeline item only once.\n        // - Pending items: They have 2 states (pending, finished):\n        //   - State Pending: The timeline item has initial data which is still valid for\n        //                    submission. We store a timeline snapshot inside the tracker to be used\n        //                    if the item becomes Finished with an error.\n        //   - State Finished: The timeline item is now filled with all data. If it's an error,\n        //                     we use the timeline snapshot array instead of the main one.\n        //                     (To send the actual activities at the item created not when\n        //                     being finished to avoid taking later items with the bug submission)\n        Djaty.trackingApp.trackers[item.itemType].timelineFormatter(item, function (_ref) {\n          var formattedObj = _ref.formattedObj,\n              type = _ref.type,\n              isIgnored = _ref.isIgnored,\n              state = _ref.state;\n\n          var itemIndex = Djaty.initApp.timeline.indexOf(item);\n\n          if (isIgnored) {\n            Djaty.initApp.timeline.splice(itemIndex, 1);\n            Djaty.trackingApp._formatInitAppTimelineItems(itemIndex);\n\n            return;\n          }\n\n          // I merge the typical items into one item with increasing the `repetitionCount`\n          // by one and remove the new one\n          // I check for:\n          // - length to avoid do this condition on first item in timeline\n          // - `Djaty.initApp.timeline[length - 1].hash` and\n          //   `Djaty.initApp.timeline[length - 1].repetitionCount` it's a bug\n          //    or something can counted (like console)\n          // - `formattedObj.hash === Djaty.initApp.timeline[length - 1].hash` current item is\n          //   the same with previous one\n          if (length && Djaty.initApp.timeline[length - 1].hash && Djaty.initApp.timeline[length - 1].repetitionCount && formattedObj.hash === Djaty.initApp.timeline[length - 1].hash) {\n            Djaty.initApp.timeline.splice(itemIndex, 1);\n            --itemIndex;\n            --length;\n            Djaty.initApp.timeline[length].repetitionCount++;\n            Djaty.initApp.timeline[length] = Djaty.utils.assign({}, Djaty.initApp.timeline[length]);\n          }\n\n          // For initial tracking (before formatting initial timeline items), the `Pending` items\n          // will be added to timeline twice and we edit first item and remove duplicate one.\n          if (Djaty.trackingApp.trackers[item.itemType].getErrorData && state === 'finished') {\n            // Remove new duplicate item\n            Djaty.initApp.timeline.splice(itemIndex, 1);\n            if (type !== 'error') {\n              Djaty.trackingApp._formatInitAppTimelineItems(itemIndex);\n\n              return;\n            }\n\n            var _errorData = Djaty.trackingApp.trackers[item.itemType].getErrorData(item.reqId);\n\n            Djaty.trackingApp._handleSendingData(_errorData);\n            Djaty.trackingApp._formatInitAppTimelineItems(itemIndex);\n\n            return;\n          }\n\n          // Edit on timeline item by reference to reflect on any clone from timeline\n          // items (like clone of timeline for pending ajax).\n          Djaty.utils.forOwn(item, function (key) {\n            if (key === 'itemType') {\n              return;\n            }\n\n            delete item[key];\n          });\n\n          Djaty.utils.assign(item, formattedObj);\n\n          if (type !== 'error') {\n            Djaty.trackingApp._formatInitAppTimelineItems(++length);\n\n            return;\n          }\n\n          var errorData = Djaty.trackingApp._getErrorDataToIdx(itemIndex);\n          Djaty.trackingApp._handleSendingData(errorData);\n\n          Djaty.trackingApp._formatInitAppTimelineItems(++length);\n        });\n      } catch (err) {\n        Djaty.logger.error('Unable to format initial timeline items', err);\n      }\n    },\n\n\n    /** *********************** Tracker Registration *************************** */\n    /**\n     * Register new tracker.\n     *\n     * @param {Object} itemType\n     * @param {Object} tracker\n     * @return void\n     */\n    addTracker: function addTracker(itemType, tracker) {\n      // Prevent any tracker from registering itself twice.\n      if (this.trackers[itemType]) {\n        return;\n      }\n\n      this.trackers[itemType] = tracker;\n    },\n\n\n    /**\n     * Check if timeline item is ignored or not\n     *\n     * @param {object} error\n     * @param {string} itemType\n     */\n    isTimelineIgnored: function isTimelineIgnored(error, itemType) {\n      if (!Djaty.initApp.ignoreTimelineItem) {\n        return false;\n      }\n\n      var clonedFormattedItem = Djaty.utils.assign({}, error, { itemType: itemType });\n\n      var utils = {\n        console: Djaty.initApp.originalMethods.trackConsole\n      };\n\n      try {\n        return Djaty.initApp.ignoreTimelineItem(clonedFormattedItem, utils);\n      } catch (err) {\n        utils.console.error('Unable to ignore the timeline item. Please check ' + '`config.ignoreTimelineItem()` option to be implemented properly.', clonedFormattedItem, err);\n\n        return false;\n      }\n    },\n\n\n    /**\n     * Check if error is ignored or not\n     *\n     * @param {String} error\n     */\n    isIgnoredError: function isIgnoredError(error) {\n      return Djaty.initApp.ignoredErrors.some(function (ignoredError) {\n        return error.indexOf(ignoredError) !== -1;\n      });\n    },\n\n    /** ************************** Storage Registration ************************ */\n    /**\n     * Register memory Storage.\n     *\n     * @param {Object} storage\n     * @return void\n     */\n    registerMemoryStorage: function registerMemoryStorage(storage) {\n      // Prevent memory storage from registering itself twice.\n      if (this.memoryStorage) {\n        return;\n      }\n\n      this.memoryStorage = storage;\n    },\n\n\n    /**\n     * Register local Storage.\n     *\n     * @param {Object} storage\n     * @return void\n     */\n    registerLocalStorage: function registerLocalStorage(storage) {\n      // Prevent localStorage from registering itself twice.\n      if (this.localStorage) {\n        return;\n      }\n\n      this.localStorage = storage;\n    },\n\n    /**\n     * Register Submitter Cb.\n     *\n     * @param {Function} cb\n     */\n    regOnSubmitCb: function regOnSubmitCb(cb) {\n      this.submitterCb = cb;\n    },\n\n    /**\n     * Set namespace in configuration\n     *\n     * @param ns\n     */\n    setNamespace: function setNamespace(ns) {\n      var structure = {\n        types: ['string'],\n        required: true,\n        constrains: {\n          maxLength: 50,\n          minLength: 4\n        }\n      };\n\n      Djaty.utils.validate('setNamespace', structure, ns);\n      Djaty.config.namespace = ns;\n    },\n\n\n    /**\n     * Get config namespace\n     *\n     * @return {*}\n     */\n    getNamespace: function getNamespace() {\n      return Djaty.config.namespace;\n    },\n\n    /**\n     * Set apiKey in configuration\n     *\n     * @param apiKey\n     */\n    setAPIKey: function setAPIKey(apiKey) {\n      var structure = {\n        types: ['string'],\n        required: true,\n        constrains: {\n          maxLength: 255,\n          minLength: 6\n        }\n      };\n\n      Djaty.utils.validate('setApiKey', structure, apiKey);\n      Djaty.config.apiKey = apiKey;\n    },\n    getAllowAutoSubmissionState: function getAllowAutoSubmissionState() {\n      return Djaty.config.allowAutoSubmission;\n    },\n    setAllowAutoSubmissionState: function setAllowAutoSubmissionState(state) {\n      var structure = {\n        types: ['boolean'],\n        required: true\n      };\n\n      Djaty.utils.validate('setAllowAutoSubmission', structure, state);\n      Djaty.config.allowAutoSubmission = state;\n    },\n\n    /**\n     * Set extension state\n     *\n     * @param state\n     */\n    setExtensionState: function setExtensionState(state) {\n      var structure = {\n        types: ['boolean'],\n        required: true\n      };\n\n      Djaty.utils.validate('setExtensionState', structure, state);\n      Djaty.initApp.isExtension = state;\n    },\n    getJSFrontendAgentConfig: function getJSFrontendAgentConfig() {\n      return Djaty.initApp.jsFrontendConfig;\n    },\n\n    /**\n     * Allow user to add any custom data.\n     *\n     * @return {object}\n     */\n    getTrackingData: function getTrackingData() {\n      if (!this.localStorage || !this.memoryStorage) {\n        throw new Error('Please init() Djaty first');\n      }\n\n      var data = {};\n      var browserLocalData = browserData.getData();\n      // To check if localStorage, sessionStorage, cookies should be tracked\n      Djaty.utils.forOwn(browserLocalData, function (propName, propValue) {\n        if (!Djaty.config.trackingOptions[propName]) {\n          return;\n        }\n\n        data[propName] = propValue;\n        if ((typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue)) !== 'object') {\n          return;\n        }\n\n        // To check length of properties of (localStorage, ...) to replace when exceed\n        Djaty.utils.forOwn(data[propName], function (propKey, value) {\n          if (value.length > Djaty.constants.requestSizeLimit) {\n            data[propName][propKey] = 'Size of ' + propKey + ' of ' + propName + ' is too long';\n          }\n        });\n      });\n\n      // Djaty.utils.assign(data, browserData.getData());\n      if (typeof data.cookies === 'string') {\n        data.cookies = Djaty.utils.convertStrToPair(data.cookies, ';', '=');\n      }\n\n      data.user = Djaty.trackingApp._getUser();\n\n      // Load all tracked data.\n      var form = Djaty.config.trackingOptions.form === false ? this.localStorage.remove('form') : this.localStorage.getData('form') || {};\n\n      var timelineData = { timeline: Djaty.initApp.timeline };\n\n      // Load user data from Djaty initial tracking object\n      Djaty.utils.assign(data, { curUrl: window.location.href }, { form: form },\n\n      // To avoid passing the reference of globalCustomData during sending,\n      // Sending exact globalCustomData items for each bug report.\n      timelineData, { customData: Djaty.initApp.globalCustomData.slice() });\n\n      return data;\n    },\n\n\n    /**\n     * Get user agent data includes: browser, cpu, device, engine and os details.\n     * and agentID and agentVersion\n     *\n     * @return {object}\n     */\n    getAgentConstData: function getAgentConstData() {\n      var constData = {\n        agentId: this.agentId,\n        agentVersion: this.agentVersion,\n        userAgent: Djaty.libs.UAParser(),\n        screen: {\n          colorDepth: window.screen.colorDepth,\n          screenSize: window.innerWidth + ' x ' + window.innerHeight\n        },\n        hashType: Djaty.constants.hashType\n      };\n\n      if (Djaty.config.release) {\n        constData.release = Djaty.config.release;\n      }\n\n      return constData;\n    },\n\n    /**\n     * Get agent data that filtered by user's filters 'onSubmitHandlers'.\n     *\n     * @return {object}\n     */\n    getFilteredData: function getFilteredData(data, cb) {\n      Djaty.utils.asyncLoop(Djaty.initApp.onSubmitHandlers, [data], Djaty.trackingApp.throttleModule, cb);\n    },\n\n\n    /** ************************ Accept User Custom Data *********************** */\n    /**\n     * Allow user to add any custom data.\n     * This function overrides the the added one of Djaty.initApp as we here\n     * make a new Djaty object that will lack to that fn if missed.\n     *\n     * @param {Object} data\n     * @param {Function} cb\n     * @return void\n     */\n    addCustomData: function addCustomData(data, cb) {\n      if (typeof cb !== 'function') {\n        throw new Error('Make sure you pass \"Djaty.addCustomData\" parameter as a function');\n      }\n\n      data.customData.push(cb());\n    },\n\n\n    /* ######################################################################## */\n    /* ############################ PRIVATE METHODS ########################### */\n    /* ######################################################################## */\n    /**\n     * Handle insert new items to timeline or increment last counter\n     *\n     * @param item\n     * @param formattedObj\n     * @returns {number}\n     * @private\n     */\n    _handleInsertItemIntoTimeline: function _handleInsertItemIntoTimeline(item, formattedObj) {\n      var app = Djaty.initApp;\n      var lastItem = app.timeline[app.timeline.length - 1];\n      var isLastItem = lastItem && lastItem.repetitionCount && lastItem.hash === formattedObj.hash;\n\n      formattedObj.itemType = item.itemType;\n\n      var itemIndex = app.timeline.indexOf(item);\n      if (itemIndex === -1 && !isLastItem) {\n        if (app.timeline.length >= Djaty.config.timelineLimit) {\n          if (app.timeline[0].itemType === Djaty.constants.trimmingItemType) {\n            app.timeline.splice(1, 1);\n          } else {\n            app.timeline.shift();\n            app.timeline.unshift({ itemType: Djaty.constants.trimmingItemType });\n          }\n        }\n\n        // Update on item by reference to reflect on any snapshot from this item.\n        Djaty.utils.forOwn(item, function (key) {\n          if (key === 'itemType') {\n            return;\n          }\n\n          delete item[key];\n        });\n\n        Djaty.utils.assign(item, formattedObj);\n\n        app.timeline.push(item);\n        itemIndex = app.timeline.indexOf(item);\n      } else if (itemIndex === -1 && isLastItem) {\n        // Handle new occ. for last item\n        lastItem.repetitionCount++;\n        itemIndex = app.timeline.length - 1;\n        Djaty.initApp.timeline[itemIndex] = Djaty.utils.assign({}, Djaty.initApp.timeline[itemIndex]);\n      }\n\n      return itemIndex;\n    },\n\n\n    /**\n     * Get timeline data from timeline array to specific index\n     *\n     * @param {Number} itemIndex\n     * @returns {Object}\n     * @private\n     */\n    _getErrorDataToIdx: function _getErrorDataToIdx(itemIndex) {\n      var currentData = Djaty.trackingApp.getTrackingData();\n      currentData.timeline = Djaty.initApp.timeline.slice(0, itemIndex + 1);\n\n      return currentData;\n    },\n\n    /**\n     * Filter error timeline data and handle long/short title for last item and send data to\n     * throttle manager or external listener\n     *\n     * @param currentData\n     */\n    _handleSendingData: function _handleSendingData(currentData) {\n      var filteredData = {};\n      var djatyBugReport = {\n        rawData: currentData,\n        addCustomDataCb: function addCustomDataCb(dataCb) {\n          Djaty.trackingApp.addCustomData(currentData, dataCb);\n        }\n      };\n\n      var app = Djaty.trackingApp;\n      var lastItemIndex = currentData.timeline.length - 1;\n      var lastTimelineItem = currentData.timeline[lastItemIndex];\n\n      currentData.hash = lastTimelineItem.hash;\n      currentData.longTitle = lastTimelineItem.longTitle;\n\n      if (lastTimelineItem.shortTitle) {\n        currentData.shortTitle = lastTimelineItem.shortTitle;\n        app.lastBugShortTitle = lastTimelineItem.shortTitle;\n        delete lastTimelineItem.shortTitle;\n      } else {\n        currentData.shortTitle = app.lastBugShortTitle;\n      }\n\n      currentData.bugType = lastTimelineItem.itemType;\n\n      app.getFilteredData(djatyBugReport, function (data) {\n        filteredData = data.rawData;\n        if (!filteredData.customData.length) {\n          delete filteredData.customData;\n        }\n\n        if (app.submitterCb) {\n          app.submitterCb.call(app.throttleModule, filteredData);\n        }\n\n        if (!Djaty.config.allowAutoSubmission) {\n          return;\n        }\n\n        app.throttleModule.ManageThrottling.call(app.throttleModule, filteredData);\n      });\n    },\n\n\n    /**\n     * A Callback called once tracking new items.\n     *\n     * @param {Object} item\n     */\n    _onTrackingCb: function _onTrackingCb(item) {\n      try {\n        // Don't format timeline items if not initiated\n        if (!Djaty.trackingApp.isInitiated) {\n          return;\n        }\n\n        var app = Djaty.trackingApp;\n\n        // We have two type of items:\n        // - Normal items: We get all details of the timeline item only once.\n        // - Pending items: They have 2 states (pending, finished):\n        //   - State Pending: The timeline item has initial data which is still valid for\n        //                    submission. We store a timeline snapshot inside the tracker\n        //                    to be used if the item becomes Finished with an error.\n        //   - State Finished: The timeline item is now filled with all data. If it's an error,\n        //                     we use the timeline snapshot array instead of the main one.\n        //                     (To send the actual activities at the item created not when\n        //                     being finished to avoid taking later items with the bug submission)\n        app.trackers[item.itemType].timelineFormatter(item, function (_ref2) {\n          var formattedObj = _ref2.formattedObj,\n              type = _ref2.type,\n              isIgnored = _ref2.isIgnored,\n              state = _ref2.state;\n\n          if (isIgnored) {\n            return;\n          }\n\n          if (app.trackers[item.itemType].getErrorData && state === 'finished') {\n            if (type !== 'error') {\n              return;\n            }\n\n            var _errorData2 = Djaty.trackingApp.trackers[item.itemType].getErrorData(item.reqId);\n            Djaty.trackingApp._handleSendingData(_errorData2);\n\n            return;\n          }\n\n          var itemIndex = Djaty.trackingApp._handleInsertItemIntoTimeline(item, formattedObj);\n          if (type !== 'error') {\n            return;\n          }\n\n          var errorData = Djaty.trackingApp._getErrorDataToIdx(itemIndex);\n          Djaty.trackingApp._handleSendingData(errorData);\n        });\n      } catch (err) {\n        Djaty.logger.error('Catch error in onTrackingCb', err);\n      }\n    },\n\n\n    // Method check if this is equal to target or not\n    _find: function _find(item, target) {\n      return item.toLowerCase().indexOf(target) > -1;\n    },\n\n\n    // Method to loop over secret data items\n    _replaceIfFound: function _replaceIfFound(cb) {\n      Djaty.config.trackingOptions.removeSecretData.forEach(function (secretItem) {\n        cb(secretItem);\n      });\n    },\n\n\n    // Method to check if property found in mode option or not.\n    _resolveIfFound: function _resolveIfFound(options, data, propName, cb) {\n      if (!options[propName] || !data) {\n        return;\n      }\n\n      cb();\n    },\n    _filterAjax: function _filterAjax(item) {\n      var _this2 = this;\n\n      // filter url\n      var secretDataStr = Djaty.config.trackingOptions.removeSecretData.join('|');\n      var regex = new RegExp('(' + secretDataStr + ')=([^&]*)', 'gi');\n      item.openParams.url = item.openParams.url.replace(regex, '$1=' + Djaty.constants.privacyPlaceHolder);\n\n      // ajax cookies\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions.ajax, item.cookies, 'cookies', function () {\n        item.cookies.forEach(function (cookie) {\n          return _this2._replaceIfFound(function (secretItem) {\n            if (_this2._find(cookie.name, secretItem)) {\n              cookie.value = Djaty.constants.privacyPlaceHolder;\n            }\n          });\n        });\n      });\n\n      // ajax headers\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions.ajax, item.headers, 'headers', function () {\n        Djaty.utils.forOwn(item.headers, function (propName) {\n          item.headers[propName].forEach(function (header) {\n            return _this2._replaceIfFound(function (secretItem) {\n              if (_this2._find(header.name, secretItem)) {\n                header.value = Djaty.constants.privacyPlaceHolder;\n              }\n            });\n          });\n        });\n      });\n\n      // ajax queryParams\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions.ajax, item.queryParams, 'queryParams', function () {\n        item.queryParams.forEach(function (queryParam) {\n          return _this2._replaceIfFound(function (secretItem) {\n            if (_this2._find(queryParam.name, secretItem)) {\n              queryParam.value = Djaty.constants.privacyPlaceHolder;\n            }\n          });\n        });\n      });\n\n      // ajax payload\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions.ajax, item.requestPayload, 'requestPayload', function () {\n        if (item.requestPayload instanceof window.FormData) {\n          (function () {\n            var formattedPayload = {};\n            // eslint-disable-next-line\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              var _loop = function _loop() {\n                var pair = _step.value;\n\n                _this2._replaceIfFound(function (secretItem) {\n                  if (_this2._find(pair[0], secretItem)) {\n                    item.requestPayload.set(pair[0], Djaty.constants.privacyPlaceHolder);\n                  }\n                  formattedPayload[pair[0]] = pair[1];\n                });\n              };\n\n              for (var _iterator = item.requestPayload.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                _loop();\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n\n            item.requestPayload = formattedPayload;\n          })();\n        } else if (item.requestPayload && item.requestPayload.constructor.name === 'Object') {\n          Djaty.utils.forOwn(item.requestPayload, function (propName) {\n            _this2._replaceIfFound(function (secretItem) {\n              if (_this2._find(propName, secretItem)) {\n                item.requestPayload[propName] = Djaty.constants.privacyPlaceHolder;\n              }\n            });\n          });\n        }\n      });\n    },\n    _filterSecret: function _filterSecret(bugReport, next) {\n      // Don't filter any secret data from bugReport if `removeSecretData` option is disabled.\n      if (!Djaty.config.trackingOptions || !Djaty.config.trackingOptions.removeSecretData) {\n        next(bugReport);\n        return;\n      }\n\n      var trackingApp = Djaty.trackingApp;\n      var data = bugReport.rawData;\n\n      // filter cookies\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions, data.cookies, 'cookies', function () {\n        data.cookies.forEach(function (item) {\n          trackingApp._replaceIfFound(function (secretItem) {\n            if (trackingApp._find(item.name, secretItem)) {\n              item.value = Djaty.constants.privacyPlaceHolder;\n            }\n          });\n        });\n      });\n\n      // filter localStorage\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions, data.localStorage, 'localStorage', function () {\n        Djaty.utils.forOwn(data.localStorage, function (propName) {\n          trackingApp._replaceIfFound(function (secretItem) {\n            if (trackingApp._find(propName, secretItem)) {\n              data.localStorage[propName] = Djaty.constants.privacyPlaceHolder;\n            }\n          });\n        });\n      });\n\n      // filter sessionStorage\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions, data.sessionStorage, 'sessionStorage', function () {\n        Djaty.utils.forOwn(data.sessionStorage, function (propName) {\n          trackingApp._replaceIfFound(function (secretItem) {\n            if (trackingApp._find(propName, secretItem)) {\n              data.sessionStorage[propName] = Djaty.constants.privacyPlaceHolder;\n            }\n          });\n        });\n      });\n\n      // filter form\n      Djaty.trackingApp._resolveIfFound(Djaty.config.trackingOptions, data.form, 'form', function () {\n        Djaty.utils.forOwn(data.form, function (propName, propValue) {\n          trackingApp._replaceIfFound(function (secretItem) {\n            propValue.inputs.forEach(function (input, index) {\n              // Handle multiple select elements\n              if (Array.isArray(data.form[propName].inputs[index].values)) {\n                propValue.inputs[index].values.forEach(function (select, selectIdx) {\n                  if (trackingApp._find(select.text, secretItem)) {\n                    data.form[propName].inputs[index].values[selectIdx].value = Djaty.constants.privacyPlaceHolder;\n                  }\n                });\n\n                return;\n              }\n\n              if (trackingApp._find(input.name, secretItem) || trackingApp._find(input.type, secretItem)) {\n                data.form[propName].inputs[index].value = Djaty.constants.privacyPlaceHolder;\n              }\n            });\n          });\n        });\n      });\n\n      // timeline items\n      // ajax items\n      data.timeline.forEach(function (item) {\n        if (item.itemType !== Djaty.constants.itemType.ajax) {\n          return;\n        }\n\n        Djaty.utils.forOwn(Djaty.config.trackingOptions.ajax, function (propName, propValue) {\n          if (!propValue) {\n            return;\n          }\n\n          trackingApp._filterAjax(item);\n        });\n      });\n\n      next(bugReport);\n    },\n\n\n    /**\n     * Get user\n     *\n     * @private\n     * @return {*}\n     */\n    _getUser: function _getUser() {\n      return Djaty.config.user ? Djaty.utils.assign({}, Djaty.config.user) : undefined;\n    }\n  };\n})();\n//# sourceMappingURL=djaty.js.map\n\n'use strict';\n\n/**\n* Memory Storage Handler Singleton.\n*\n* This obj deals with memory to save/load data.\n*/\n\nvar memoryStorage = {\n  container: {},\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n  /**\n   * Save new data to memory.\n   *\n   * @param {String} key\n   * @param {Object} item\n   * @return {void}\n   */\n  set: function set(key, item) {\n    if (!key || !item) {\n      throw new Error('You must provide \\'key\\' and item');\n    }\n\n    if (typeof key !== 'string') {\n      throw new Error('push \\'key\\' must be a string');\n    }\n\n    var memoryObj = this.container;\n    memoryObj[key] = item;\n  },\n\n\n  /**\n  * load data from memory.\n  *\n  * @param {String} key\n  * @return {Object}\n  */\n  getData: function getData() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (key && typeof key !== 'string') {\n      throw new Error('load \\'key\\' must be a string');\n    }\n\n    var memoryObj = this.container;\n\n    // Return cloned data to prevent editing the real memory data.\n    // Get the whole object if no key is passed.\n    if (!key) {\n      return Djaty.utils.assign({}, memoryObj);\n    }\n\n    return Djaty.utils.assign([], memoryObj[key]);\n  }\n};\n\nDjaty.trackingApp.registerMemoryStorage(memoryStorage);\n//# sourceMappingURL=memoryStorage.js.map\n\n'use strict';\n\n/**\n * LocalStorage Handler Singleton.\n *\n * This obj deals with localStorage to save/load data. It also makes elementary\n * processes like limiting localStorage size.\n */\n\n/* global localStorage */\nvar djatyLocalStorage = {\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /**\n   * Save new data to localStorage.\n   *\n   * @param {String} key\n   * @param {Object} item\n   * @return {void}\n   */\n  set: function set(key, item) {\n    if (!key || !item) {\n      throw new Error('You must provide \\'key\\' and item');\n    }\n\n    if (typeof key !== 'string') {\n      throw new Error('push \\'key\\' must be a string');\n    }\n\n    var localStorageStr = localStorage.getItem('DjatyTracking');\n    var localStorageObj = localStorageStr ? JSON.parse(localStorageStr) : {};\n\n    localStorageObj[key] = item;\n\n    localStorageStr = JSON.stringify(Djaty.utils.removeCircular(localStorageObj));\n    // localStorageStr = JSON.stringify(localStorageObj);\n    localStorage.setItem('DjatyTracking', localStorageStr);\n  },\n\n\n  /**\n   * load data from localStorage.\n   *\n   * @param {String} key\n   * @return {Object}\n   */\n  getData: function getData() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (key && typeof key !== 'string') {\n      throw new Error('load \\'key\\' must be a string');\n    }\n\n    var localStorageStr = localStorage.getItem('DjatyTracking');\n    var localStorageObj = localStorageStr ? JSON.parse(localStorageStr) : {};\n\n    // Return cloned data to prevent editing the real localStorage data.\n    // Get the whole object if no key is passed.\n    if (!key) {\n      return Djaty.utils.assign({}, localStorageObj);\n    }\n\n    var item = localStorageObj[key] ? localStorageObj[key] : {};\n    return Djaty.utils.assign({}, item);\n  },\n\n\n  /**\n   * remove data from localStorage.\n   *\n   * @param {String} key\n   * @return {void}\n   */\n  remove: function remove(key) {\n    if (!key || typeof key !== 'string') {\n      throw new Error('load \\'key\\' must be a string');\n    }\n\n    var localStorageStr = localStorage.getItem('DjatyTracking');\n    var localStorageObj = localStorageStr ? JSON.parse(localStorageStr) : {};\n    delete localStorageObj[key];\n    localStorageStr = JSON.stringify(Djaty.utils.removeCircular(localStorageObj));\n    localStorage.setItem('DjatyTracking', localStorageStr);\n  }\n};\n\nDjaty.trackingApp.registerLocalStorage(djatyLocalStorage);\n//# sourceMappingURL=localStorage.js.map\n\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* LocalStorageWrapper Class\n*\n* The following class designed to wrap localstorage object and prevent any tracker\n* from access localstorage obj directly.\n*/\n\n// eslint-disable-next-line no-unused-vars\nvar LocalStorageWrapper = function () {\n\n  /** *********************** Initializing Obj *************************** */\n  function LocalStorageWrapper(itemType, localStorage) {\n    _classCallCheck(this, LocalStorageWrapper);\n\n    this.localStorage = localStorage;\n    this.itemType = itemType;\n  }\n\n  /* ######################################################################## */\n  /* ############################ PUBLIC METHODS ############################ */\n  /* ######################################################################## */\n\n  /**\n   * Initialization logic by adding needed event handlers.\n   *\n   * @return  {void}\n   */\n\n\n  _createClass(LocalStorageWrapper, [{\n    key: \"set\",\n    value: function set(key, item) {\n      var data = this.localStorage.getData(this.itemType);\n      data[key] = item;\n      this.localStorage.set(this.itemType, data);\n    }\n  }]);\n\n  return LocalStorageWrapper;\n}();\n//# sourceMappingURL=localStorageWrapper.js.map\n\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n* Tracking Ajax requests.\n*\n* This file is combined with other tracking files using 'gulp' then the generated\n* file will be injected by the extension or manually by including the file.\n*/\n\n/* global Event, URL */\n\nvar ajaxTracker = {\n  pendingRequests: {},\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** *********************** Initializing Obj **************************** */\n  /**\n  * Initialization of the tracker.\n  *\n  * @return void\n  */\n  init: function init() {},\n\n\n  /**\n   * Save Data into timeline.\n   *\n   * @param  {Object} item\n   * @param  {Function} cb\n   * @return {void}\n   */\n  timelineFormatter: function timelineFormatter(item, cb) {\n    if (!Array.isArray(item.reqArgs)) {\n      throw new Error('Make sure you pass \"reqArgs\" parameter as an array');\n    }\n\n    if (_typeof(item.headers) !== 'object') {\n      throw new Error('Make sure you pass \"headers\" parameter as an object');\n    }\n\n    // Handle `pending` items\n    if (item.state === 'pending') {\n      if (typeof item.ajaxCookie !== 'string') {\n        throw new Error('Make sure you pass \"ajaxCookie\" parameter as an string');\n      }\n\n      this._formatTimelinePendingObj(item, cb);\n\n      return;\n    }\n\n    if (!(item.ev instanceof Event && item.ev.type === 'readystatechange')) {\n      throw new Error('timelineFormatter only accept events of type \\'readystatechange\\'');\n    }\n\n    // Handle `finished` items\n    this._formatTimelineFinishedObj(item, cb);\n  },\n\n\n  /**\n   * Get error data for the `pending` item timeline items snapshot.\n   *\n   * ex: When normal ajax had been called the initial state\n   * for it is `pending` with (ex: `10` timeline items),\n   * but when this ajax becomes `finished` may main timeline has new timeline items,\n   * so I only need the timeline items when ajax is fired not current timeline items.\n   *\n   * @param reqId\n   * @returns {Object}\n   */\n  getErrorData: function getErrorData(reqId) {\n    var reqTimelineItem = this.pendingRequests[reqId];\n    delete this.pendingRequests[reqId];\n\n    var currentData = Djaty.trackingApp.getTrackingData();\n    currentData.timeline = reqTimelineItem;\n\n    return currentData;\n  },\n\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n  * responseText Allowed Types\n  *\n  * We need to check if ev.target.responseType is allowed because accessing\n  * ev.target.responseText for other responseTypes throws an error like the following:\n  * {Failed to read the 'responseXML' property from 'XMLHttpRequest': The value\n  * is only accessible if the object's 'responseType' is '' or 'document'\n  * (was 'arraybuffer').}\n  *\n  * @param  {String} type\n  * @return {Boolean}\n  */\n  _isTypeAllowed: function _isTypeAllowed(type) {\n    if (typeof type !== 'string') {\n      throw new Error('_isTypeAllowed only accept strings');\n    }\n\n    return 'document, json, text'.indexOf(type) > -1;\n  },\n\n\n  /**\n   * Format timeline object for pending ajax requests.\n   *\n   * @param item\n   * @param  {Function} cb\n   * @return {Function}\n   */\n  _formatTimelinePendingObj: function _formatTimelinePendingObj(item, cb) {\n    var reqArgs = item.reqArgs,\n        isAborted = item.isAborted,\n        requestPayload = item.requestPayload,\n        reqId = item.reqId,\n        time = item.time,\n        ajaxCookie = item.ajaxCookie,\n        headers = item.headers,\n        state = item.state;\n\n\n    if (!Array.isArray(reqArgs)) {\n      throw new Error('Make sure you pass \"reqArgs\" parameter as an array');\n    }\n\n    var paramUrl = reqArgs[1];\n\n    reqArgs[0] = reqArgs[0].toUpperCase();\n    var djatyRegId = '((djatyReqId|&djatyReqId)=[^&]*(?:&|$))';\n    var getDjatyReqId = paramUrl.match(djatyRegId);\n\n    paramUrl = getDjatyReqId ? paramUrl.replace(getDjatyReqId[0], '') : paramUrl;\n    var queryParamsObj = Djaty.utils.convertStrToPair(paramUrl.slice(paramUrl.indexOf('?') + 1, paramUrl.length), '&', '=');\n\n    reqArgs[1] = this._getFullURL(paramUrl);\n\n    var openParamsProp = ['method', 'url', 'async', 'user', 'password'];\n    var openArgs = {};\n\n    reqArgs.forEach(function (param, index) {\n      openArgs[openParamsProp[index]] = param;\n    });\n\n    var formattedObj = {\n      timestamp: time,\n      openParams: openArgs,\n      isAborted: isAborted,\n      reqId: reqId,\n      statusText: state\n    };\n\n    var headersData = {\n      requestHeaders: headers.requestHeaders\n    };\n\n    var cookies = Djaty.utils.convertStrToPair(ajaxCookie, ';', '=');\n    var payload = requestPayload && (requestPayload.length < Djaty.constants.requestSizeLimit ? requestPayload : 'PAYLOAD_TOO_LONG');\n\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'headers', headersData, Djaty.config.trackingOptions);\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'cookies', cookies, Djaty.config.trackingOptions);\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'queryParams', queryParamsObj, Djaty.config.trackingOptions);\n\n    if (payload) {\n      Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'requestPayload', payload, Djaty.config.trackingOptions);\n    }\n\n    var itemIndex = Djaty.initApp.timeline.indexOf(item);\n    this.pendingRequests[reqId] = itemIndex === -1 ? Djaty.initApp.timeline.slice() : Djaty.initApp.timeline.slice(0, itemIndex);\n\n    this.pendingRequests[reqId].push(item);\n    return cb({ formattedObj: formattedObj });\n  },\n\n\n  /**\n   * Format timeline object for finished ajax requests\n   * (update on the `pending` item for it by reference).\n   *\n   * @param item\n   * @param cb\n   * @returns {*}\n   * @private\n   */\n  _formatTimelineFinishedObj: function _formatTimelineFinishedObj(item, cb) {\n    var ev = item.ev,\n        reqArgs = item.reqArgs,\n        isAborted = item.isAborted,\n        reqId = item.reqId,\n        requestTime = item.requestTime,\n        headers = item.headers,\n        state = item.state;\n\n\n    if (!(ev instanceof Event && ev.type === 'readystatechange')) {\n      throw new Error('_formatTimelineObj only accept events of type \\'readystatechange\\'');\n    }\n\n    if (!Array.isArray(reqArgs)) {\n      throw new Error('Make sure you pass \"reqArgs\" parameter as an array');\n    }\n\n    if (!this.pendingRequests[reqId]) {\n      throw new Error('Unable to reformatting completed ajax without pending data for it.');\n    }\n\n    var formattedObj = this.pendingRequests[reqId].slice(-1)[0];\n    var djatyRegId = '((djatyReqId|&djatyReqId)=[^&]*(?:&|$))';\n    var target = ev.target;\n\n    if (typeof formattedObj.openParams.url === 'string' && (target.status >= 500 || target.status === 0) && Djaty.trackingApp.isIgnoredError(formattedObj.openParams.url)) {\n      var timelineItemIndex = Djaty.initApp.timeline.indexOf(formattedObj);\n\n      if (timelineItemIndex !== -1) {\n        Djaty.initApp.timeline.splice(timelineItemIndex, 1);\n      }\n\n      delete this.pendingRequests[reqId];\n\n      return cb({ isIgnored: true, type: 'error', state: state });\n    }\n\n    var allowedResp = this._isTypeAllowed(target.responseType) ? target.responseText : '';\n\n    formattedObj.status = target.status;\n    formattedObj.statusText = target.statusText;\n    formattedObj.isAborted = isAborted;\n\n    // will be saved as empty obj as all ev.target attrs are non enumerable\n    // and JSON.stringify() ignores non enumerable attrs.\n    // response: ev.target,\n    // So, lets save needed data only\n    var response = {\n      responseText: allowedResp.length < Djaty.constants.requestSizeLimit ? allowedResp : 'Text too long',\n      responseType: target.responseType,\n      responseURL: target.responseURL.replace(target.response && target.responseURL.match(djatyRegId)[0], ''),\n      withCredentials: target.withCredentials\n    };\n\n    var headersData = {\n      responseHeaders: Djaty.utils.convertStrToPair(headers.responseHeaders, '\\n', ': '),\n      requestHeaders: formattedObj.headers && formattedObj.headers.requestHeaders\n    };\n\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'response', response, Djaty.config.trackingOptions);\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'headers', headersData, Djaty.config.trackingOptions);\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.ajax, formattedObj, 'requestTime', requestTime, Djaty.config.trackingOptions);\n\n    if (Djaty.trackingApp.isTimelineIgnored(formattedObj, Djaty.constants.itemType.ajax)) {\n      var _timelineItemIndex = Djaty.initApp.timeline.indexOf(formattedObj);\n\n      if (_timelineItemIndex !== -1) {\n        Djaty.initApp.timeline.splice(_timelineItemIndex, 1);\n      }\n\n      delete this.pendingRequests[formattedObj.reqId];\n\n      return cb({ isIgnored: true, state: state });\n    }\n\n    if ((target.status >= 500 || target.status === 0) && !isAborted) {\n      var sha256 = Djaty.libs.sha256;\n      formattedObj.hash = sha256(reqArgs.join(' ') + Djaty.trackingApp.agentId + Djaty.constants.itemType.ajax + formattedObj.status);\n\n      formattedObj.shortTitle = formattedObj.openParams.method + ' ' + new URL(formattedObj.openParams.url).pathname;\n\n      formattedObj.longTitle = Djaty.utils.limitString('Ajax: method ' + formattedObj.openParams.method + ' ' + formattedObj.openParams.url, Djaty.constants.titleLimit);\n\n      return cb({ formattedObj: formattedObj, type: 'error', state: state });\n    }\n\n    delete this.pendingRequests[formattedObj.reqId];\n\n    return cb({ formattedObj: formattedObj, state: state });\n  },\n  _getFullURL: function _getFullURL(url) {\n    var tmpAnchorElement = document.createElement('a');\n    tmpAnchorElement.href = url;\n\n    return tmpAnchorElement.href;\n  }\n};\n\n// Register ajaxTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker(Djaty.constants.itemType.ajax, ajaxTracker);\n//# sourceMappingURL=ajaxTracking.js.map\n\n'use strict';\n\n/**\n* Tracking 'window.console' methods.\n*\n* This file is combined with other tracking files using 'gulp' then the generated\n* file will be injected by the extension or manually by including the file.\n*/\n\nvar consoleTracker = {\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** *********************** Initializing Obj **************************** */\n  /**\n  * Initialization of the tracker.\n  *\n  * @return void\n  */\n  init: function init() {},\n\n\n  /**\n  * Save Data into timeline.\n  *\n  * @param  {String} attrName\n  * @param  {Array} args\n  * @param  {Function} cb\n  * @return {void}\n  */\n  timelineFormatter: function timelineFormatter(_ref, cb) {\n    var attrName = _ref.attrName,\n        args = _ref.args;\n\n    if (typeof attrName !== 'string') {\n      throw new Error('Make sure you pass \"attrName\" parameter as a string');\n    }\n\n    if (!Array.isArray(args)) {\n      throw new Error('Make sure you pass \"args\" parameter as an array');\n    }\n\n    this._formatTimelineObj(attrName, args, cb);\n  },\n\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n   * Format timeline object.\n   *\n   * @param  {String} attrName\n   * @param  {Array} args\n   * @param  {Function} cb\n   * @return {void}\n   */\n  _formatTimelineObj: function _formatTimelineObj(attrName, args, cb) {\n    if (typeof attrName !== 'string') {\n      throw new Error('Make sure you pass \"attrName\" parameter as a string');\n    }\n\n    if (!Array.isArray(args)) {\n      throw new Error('Make sure you pass \"args\" parameter as an array');\n    }\n\n    if (!args.length) {\n      cb({ isIgnored: true });\n\n      return;\n    }\n\n    var timestamp = Date.now();\n    var sizeObject = Djaty.utils.sizeOfObject(args, Djaty.constants.requestSizeLimit);\n    var formattedObj = {\n      method: attrName,\n      timestamp: timestamp,\n      consoleParams: sizeObject.size === -1 ? [] : Djaty.utils.removeCircular(args),\n      isTrimmed: sizeObject.size === -1\n    };\n\n    var stringifiedParams = '[TOO_LONG_OBJECT_SIZE]';\n    if (Djaty.utils.resolveProperty(Djaty.constants.itemType.console, formattedObj, 'repetitionCount', 1, Djaty.config.trackingOptions) || attrName === 'error') {\n      var sha256 = Djaty.libs.sha256;\n\n      if (sizeObject.size === -1) {\n        formattedObj.hash = sha256(sizeObject.uniqueStr + Djaty.trackingApp.agentId + Djaty.constants.itemType.console + attrName);\n      } else {\n        stringifiedParams = JSON.stringify(formattedObj.consoleParams);\n        stringifiedParams = stringifiedParams.substr(1, stringifiedParams.length - 2);\n\n        formattedObj.hash = sha256(stringifiedParams + window.history.origin + attrName);\n      }\n    }\n\n    if (Djaty.trackingApp.isTimelineIgnored(formattedObj, Djaty.constants.itemType.console)) {\n      cb({ isIgnored: true });\n\n      return;\n    }\n\n    cb({ formattedObj: formattedObj });\n  }\n};\n\n// Register consoleTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker(Djaty.constants.itemType.console, consoleTracker);\n//# sourceMappingURL=consoleTracking.js.map\n\n'use strict';\n\n/**\n* Tracking Forms.\n*\n* This file is combined with other tracking files using 'gulp' then the generated\n* file will be injected by the extension or manually by including the file.\n*/\n\n/* global Event */\n\nvar formTracker = {\n  localStorage: {},\n\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** ************************** Initializing Obj ************************* */\n  /**\n  * Initialization of the tracker.\n  *\n  * @param  {Object} localStorage: LocalStorage connection.\n  * @return void\n  */\n  init: function init(localStorage) {\n    if (!localStorage) {\n      throw new Error('formTracker can\\'t be initialized without storage');\n    }\n\n    this.localStorage = localStorage;\n  },\n\n\n  /**\n  * On form submit event handler.\n  *\n  * @param {Event} ev\n  * @param {Number} time\n  * @return void\n  */\n  timelineFormatter: function timelineFormatter(_ref) {\n    var ev = _ref.ev,\n        _ref$time = _ref.time,\n        time = _ref$time === undefined ? Date.now() : _ref$time;\n\n    if (!(ev instanceof Event && ev.type === 'submit')) {\n      throw new Error('timelineFormatter only accept events of type \\'submit\\'');\n    }\n\n    var inputs = [];\n    var isPwdForm = false;\n    var inputTypes = ['input', 'textarea', 'select'];\n\n    Djaty.utils.forOwn(ev.target, function (key, val) {\n      if (Djaty.utils.isDomElement(val) && inputTypes.some(function (type) {\n        return val.nodeName.toLowerCase() === type;\n      }) && val.type !== 'submit' && !((val.type === 'radio' || val.type === 'checkbox') && !val.checked)) {\n        // Check if form has at least one password field\n        isPwdForm = val.type === 'password' && !isPwdForm ? !isPwdForm : isPwdForm;\n        var values = null;\n        if (val.type === 'select-multiple' || val.type === 'select-one') {\n          values = [];\n          Djaty.utils.forOwn(val.selectedOptions, function (index, option) {\n            values.push({\n              text: option.text,\n              value: option.value\n            });\n          });\n        }\n\n        var existingField = inputs.find(function (input) {\n          return input.name === val.name;\n        });\n\n        if (val.type === 'checkbox') {\n          if (existingField && val.checked) {\n            if (!Array.isArray(existingField.value)) {\n              existingField.value = [existingField.value];\n            }\n\n            existingField.value.push(val.value);\n            return;\n          }\n\n          if (!val.checked) {\n            return;\n          }\n        }\n\n        if (val.type === 'radio') {\n          if (existingField) {\n            existingField.value = val.checked ? val.value : existingField.value;\n            return;\n          }\n          val.value = val.checked ? val.value : '';\n        }\n\n        var inputInfo = {\n          type: val.type,\n          name: val.name\n        };\n\n        if (values) {\n          inputInfo.values = values;\n        } else {\n          inputInfo.value = val.value;\n        }\n\n        inputs.push(inputInfo);\n      }\n    });\n\n    if (!inputs.length) {\n      return;\n    }\n\n    var formKey = isPwdForm ? 'pwdFormSubmission' : 'lastFormSubmission';\n    formTracker.localStorage.set(formKey, {\n      inputs: inputs,\n      url: window.location.href,\n      timestamp: time\n    });\n  }\n};\n\n// Register formTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker('form', formTracker);\n//# sourceMappingURL=formTracking.js.map\n\n'use strict';\n\n/**\n* Tracking File Loading.\n*\n* This file is combined with other tracking files using 'gulp' then the generated\n* file will be injected by the extension or manually by including the file.\n*/\n\nvar fileTracker = {\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** ************************* Initializing Obj ************************** */\n  /**\n  * Initialization of the tracker.\n  *\n  * @return void\n  */\n  init: function init() {},\n\n\n  /**\n   * Save Data into timeline.\n   *\n   * @param  {Array} node\n   * @param  {String} target\n   * @param  {String} ev\n   * @param  {Number} time\n   * @param  {Function} cb\n   * @return {void}\n   */\n  timelineFormatter: function timelineFormatter(_ref, cb) {\n    var node = _ref.node,\n        target = _ref.target,\n        ev = _ref.ev,\n        time = _ref.time;\n\n    if (typeof target !== 'string' || typeof ev !== 'string') {\n      throw new Error('Make sure you pass \"timelineFormatter\" parameters correctly');\n    }\n\n    if (!Djaty.utils.isDomElement(node)) {\n      throw new Error('Make sure you pass \"node\" parameter as DOM element');\n    }\n\n    fileTracker._formatTimelineObj(node, target, ev, time, cb);\n  },\n\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n  * Format timeline object.\n  *\n  * @param  {Object} node\n  * @param  {String} target\n  * @param  {String} ev\n  * @param  {Number} time\n  * @param  {Function} cb\n  * @return {Function}\n  */\n  _formatTimelineObj: function _formatTimelineObj(node, target, ev, time, cb) {\n    if (typeof target !== 'string' || typeof ev !== 'string') {\n      throw new Error('Make sure you pass \"_formatTimelineObj\" parameters correctly');\n    }\n\n    if (!Djaty.utils.isDomElement(node)) {\n      throw new Error('Make sure you pass \"node\" parameter as DOM element');\n    }\n\n    var tagName = node.nodeName.toLowerCase();\n    var src = node[target];\n\n    if (typeof src === 'string' && ev === 'error' && Djaty.trackingApp.isIgnoredError(src)) {\n      return cb({ isIgnored: true, type: 'error' });\n    }\n\n    var formattedObj = {\n      tagName: tagName,\n      src: src,\n      fileStatus: ev,\n      timestamp: time\n    };\n\n    if (Djaty.trackingApp.isTimelineIgnored(formattedObj, Djaty.constants.itemType.file)) {\n      return cb({ isIgnored: true });\n    }\n\n    if (ev === 'error') {\n      var sha256 = Djaty.libs.sha256;\n      formattedObj.hash = sha256(src + Djaty.trackingApp.agentId + Djaty.constants.itemType.file);\n      formattedObj.shortTitle = 'File: ' + src.substring(src.lastIndexOf('/') + 1, src.length);\n      formattedObj.longTitle = Djaty.utils.limitString('File: <' + tagName + '> ' + src, Djaty.constants.titleLimit);\n      return cb({ formattedObj: formattedObj, type: 'error' });\n    }\n\n    return cb({ formattedObj: formattedObj });\n  }\n};\n\n// Register fileTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker(Djaty.constants.itemType.file, fileTracker);\n//# sourceMappingURL=fileTracking.js.map\n\n'use strict';\n\n/**\n * Tracking Errors.\n *\n * This file is combined with other tracking files using 'gulp' then the generated\n * file will be injected by the extension or manually by including the file.\n */\n\nvar exceptionTracker = {\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** ************************** Initializing Obj ************************* */\n  /**\n   * Initialization of the tracker.\n   *\n   * @return void\n   */\n  init: function init() {},\n\n\n  /**\n   * push stack trace into our time line\n   * @param  {Error} [err=null]\n   * @param  {String} msg: Used in case err param is null.\n   *                       One case could be:\n   *                       blog.sentry.io/2016/05/17/what-is-script-error.html\n   * @param  {Number} time\n   * @param  {Function} cb\n   * @return {void}\n   */\n  timelineFormatter: function timelineFormatter(_ref, cb) {\n    var _ref$err = _ref.err,\n        err = _ref$err === undefined ? null : _ref$err,\n        msg = _ref.msg,\n        _ref$time = _ref.time,\n        time = _ref$time === undefined ? Date.now() : _ref$time;\n\n    if (typeof msg === 'string' && Djaty.trackingApp.isIgnoredError(msg)) {\n      cb({ isIgnored: true, type: 'error' });\n      return;\n    }\n\n    var frameList = [];\n\n    if (err && err.stack) {\n      frameList = err.stack.split('\\n');\n\n      // Handle removing message from stacktrace except `Firefox`,\n      // it don't have a error message in his stacktrace.\n\n      var _Djaty$trackingApp$ge = Djaty.trackingApp.getAgentConstData(),\n          userAgent = _Djaty$trackingApp$ge.userAgent;\n\n      if (userAgent.browser.name !== 'Firefox') {\n        frameList.shift();\n      }\n    }\n\n    exceptionTracker._formatTimelineObj(err, msg, frameList, time, cb);\n  },\n\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n   * Format timeline object.\n   * @param  {Array} err\n   * @param  {String} message\n   * @param  {Object} stackframes\n   * @param  {Number} time\n   * @param  {Function} cb\n   * @return {Function} cb\n   * @TODO return false needs to be handled.\n   */\n  _formatTimelineObj: function _formatTimelineObj(err, message, stackframes, time, cb) {\n    var msg = err ? err.toString() : 'Error from an external resource and details are' + ' restricted by browser for security reasons. <a href=\"#\">Read more!</a>';\n    // if (!msg) {\n    //   msg = message ? message : 'Error';\n    // }\n\n    // If stack is generated, we need to remove our stack frames from it(Those\n    // frames include for example this function 'timelineFormatter'.\n    // Our frames will only exist in case the error is triggered after the djaty core\n    // loads. If error triggered with the initial tracker 'initApp' it will be\n    // saved into time line at once and without any processing with pure stack\n    // frames. Those frames will be processed and added directly inside timetime\n    // without being passed to timelineFormatter for example.\n    stackframes = stackframes.filter(function (frame) {\n      var functionName = frame.functionName;\n      if (functionName && functionName.match(/(timelineFormatter|_errHandler)/)) {\n        return false;\n      }\n\n      return frame;\n    });\n\n    // If no stackframes after filtering, this err is for sure thrown from our\n    // scripts and should rejected (not to be tracked).\n    if (stackframes.length === 0) {\n      // @TODO Handle our exceptions.\n      return cb({ isIgnored: true });\n    }\n\n    if (stackframes.length >= Djaty.config.stacktraceLimit) {\n      stackframes = stackframes.splice(0, Djaty.config.stacktraceLimit);\n    }\n\n    var sha256 = Djaty.libs.sha256;\n    var hash = sha256(JSON.stringify(stackframes[0]) + msg + Djaty.trackingApp.agentId + Djaty.constants.itemType.exception);\n\n    var details = err ? '\\nStacktrace: \\n' + err.stack : '';\n    var shortTitle = Djaty.utils.limitString('' + msg, Djaty.constants.titleLimit);\n    var longTitle = Djaty.utils.limitString('Unhandled Exception: ' + msg + ' . ' + details, Djaty.constants.titleLimit);\n\n    var formattedObj = {\n      // Important attr summary, it helps getting a string from the object.\n      // summary: `Unhandled Exception: ${msg}. ${details}`,\n      method: 'onerror',\n      timestamp: time,\n      stringifiedStack: err ? err.stack : '',\n      msg: msg,\n      hash: hash,\n      shortTitle: shortTitle,\n      longTitle: longTitle\n    };\n\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.exception, formattedObj, 'repetitionCount', 1, Djaty.config.trackingOptions);\n\n    if (Djaty.trackingApp.isTimelineIgnored(formattedObj, Djaty.constants.itemType.exception)) {\n      return cb({ isIgnored: true });\n    }\n\n    return cb({ formattedObj: formattedObj, type: 'error' });\n  }\n};\n\n// Register errorTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker(Djaty.constants.itemType.exception, exceptionTracker);\n//# sourceMappingURL=exceptionTracker.js.map\n\n'use strict';\n\n/**\n * Tracking 'Navigation' methods.\n *\n * This file is combined with other tracking files using 'gulp' then the generated\n * file will be injected by the extension or manually by including the file.\n */\n\nvar navigationTracker = {\n  /* ###################################################################### */\n  /* ########################### PUBLIC METHODS ########################### */\n  /* ###################################################################### */\n\n  /** *********************** Initializing Obj **************************** */\n  /**\n   * Initialization of the tracker.\n   *\n   * @return void\n   */\n  init: function init() {},\n\n\n  /**\n   * Save Data into timeline.\n   *\n   * @param  {String} itemType\n   * @param  {Object} ev\n   * @param  {String} url\n   * @param  {Number} time\n   * @param  {Function} cb\n   * @return {void}\n   */\n  timelineFormatter: function timelineFormatter(_ref, cb) {\n    var itemType = _ref.itemType,\n        ev = _ref.ev,\n        url = _ref.url,\n        _ref$time = _ref.time,\n        time = _ref$time === undefined ? Date.now() : _ref$time;\n\n    if (typeof itemType !== 'string') {\n      throw new Error('Make sure you pass \"itemType\" parameter as a string');\n    }\n    navigationTracker._formatTimelineObj({ attrName: itemType, ev: ev, currentTime: time, url: url }, cb);\n  },\n\n\n  /* ###################################################################### */\n  /* ########################### Private METHODS ########################## */\n  /* ###################################################################### */\n  /**\n   * Format timeline object.\n   *\n   * @param {String} attrName\n   * @param {Object} ev\n   * @param {Number} currentTime\n   * @param {String} url\n   * @param {Function} cb\n   * @returns {*}\n   * @private\n   */\n  _formatTimelineObj: function _formatTimelineObj(_ref2, cb) {\n    var attrName = _ref2.attrName,\n        ev = _ref2.ev,\n        currentTime = _ref2.currentTime,\n        url = _ref2.url;\n\n    if (typeof attrName !== 'string') {\n      throw new Error('Make sure you pass \"attrName\" parameter as a string');\n    }\n\n    var formattedObj = {\n      method: ev.type,\n      curPageUrl: url,\n      timestamp: currentTime\n    };\n\n    var pageTitle = Djaty.utils.limitString(document.title, Djaty.constants.titleLimit);\n\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.navigation, formattedObj, 'title', pageTitle, Djaty.config.trackingOptions);\n    Djaty.utils.resolveProperty(Djaty.constants.itemType.navigation, formattedObj, 'state', ev.state, Djaty.config.trackingOptions);\n\n    if (Djaty.trackingApp.isTimelineIgnored(formattedObj, Djaty.constants.itemType.navigation)) {\n      return cb({ isIgnored: true });\n    }\n\n    return cb({ formattedObj: formattedObj });\n  }\n};\n\n// Register consoleTracker component to the parent Djaty tracking app.\nDjaty.trackingApp.addTracker(Djaty.constants.itemType.navigation, navigationTracker);\n//# sourceMappingURL=navigationTracker.js.map\n\n'use strict';\n\n/**\n * Auto report our bugs to djaty server.\n *\n * When `Djaty.logger.error` is fired and `reportDjatyCrashes` still `true` we trigger auto\n * reporting for current logs then destroy Djaty then show error for user to know that\n * something went wrong.\n *\n * In case of user disable `reportDjatyCrashes` flag just destroy and show error for user to know\n * that something went wrong and ask him to re-enable `reportDjatyCrashes` flag to have better\n * experience.\n */\n\n// eslint-disable-next-line no-unused-vars\nvar autoReport = {\n  isInitiated: false,\n  logsFormattingCb: null,\n  exceptionFormattingCb: null,\n  constData: null,\n\n  autoReport: function autoReport(loggerTimelineItems, logErrorParams) {\n    var _this = this;\n\n    try {\n      var errorMessage = 'Something went wrong with Djaty';\n      if (!this.isInitiated) {\n        return;\n      }\n\n      if (!Djaty.config.reportDjatyCrashes) {\n        errorMessage += ' but we are unable to report it.' + ' For a better experience and to help us fix those kinds of problems in the future,' + ' please enable \\'reportDjatyCrashes\\' option. You may need to refresh the page' + ' to enable Djaty again as it\\'s just exited to avoid unexpected behaviours';\n\n        Djaty.destroy(errorMessage);\n\n        // eslint-disable-next-line no-console\n        console.error(errorMessage);\n\n        return;\n      }\n\n      // I disable tracking to avoid reporting unneeded bugs with\n      // corrupted state during reporting the original bug.\n      Djaty.initApp.destroy();\n\n      var timeline = [];\n      loggerTimelineItems.forEach(function (item) {\n        return _this.logsFormattingCb(item, function (_ref) {\n          var formattedObj = _ref.formattedObj;\n          return _this._addItemToTimeline(formattedObj, timeline, 'console');\n        });\n      });\n\n      var error = logErrorParams[logErrorParams.length - 1] instanceof Error ? logErrorParams[logErrorParams.length - 1] : new Error(logErrorParams[0]);\n\n      var item = {\n        err: error,\n        msg: error.message,\n        time: Date.now(),\n        itemType: Djaty.constants.itemType.exception\n      };\n\n      this.exceptionFormattingCb(item, function (_ref2) {\n        var formattedObj = _ref2.formattedObj;\n        return _this._addItemToTimeline(formattedObj, timeline, 'exception');\n      });\n\n      var lastTimelineItem = timeline[timeline.length - 1];\n\n      var payload = Djaty.utils.assign({}, this.constData, {\n        agentDataPatch: [{\n          timeline: timeline,\n          shortTitle: lastTimelineItem.shortTitle,\n          longTitle: lastTimelineItem.longTitle,\n          hash: lastTimelineItem.hash,\n          curUrl: window.location.href,\n          bugType: lastTimelineItem.itemType,\n          customData: [{ clientProjectApiKey: Djaty.config.apiKey }]\n        }]\n      });\n\n      delete lastTimelineItem.shortTitle;\n\n      var stringifiedPayload = JSON.stringify(payload);\n      var url = '' + Djaty.config.bugsURL + Djaty.config.api + Djaty.config.apiBugsUrl + '?reportedAgent=' + Djaty.trackingApp.agentId;\n\n      Djaty.utils.djatyAjax('POST', url, stringifiedPayload, function (err) {\n        if (err) {\n          errorMessage += ' but we are unable to report it due to an internal server problem. You may need' + ' to refresh the page to enable Djaty again as it\\'s just exited to avoid unexpected behaviours';\n        } else {\n          errorMessage += ', reported and we are working on it. You may need to refresh the page to' + ' enable Djaty again as it\\'s just exited to avoid unexpected behaviours';\n        }\n\n        Djaty.destroy(errorMessage);\n\n        // eslint-disable-next-line no-console\n        console.error(errorMessage);\n      });\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Something went wrong with Djaty but we are unable to report it due to an' + ' internal problem so it\\'ll be very appreciated if you contacted us to report this' + ' problem. You may need to refresh the page to enable Djaty again.');\n    }\n  },\n  init: function init(constData, formattingCb, exceptionFormattingCb) {\n    var _this2 = this;\n\n    if (this.isInitiated) {\n      return this;\n    }\n\n    this.isInitiated = true;\n    this.constData = constData;\n    this.logsFormattingCb = formattingCb;\n    this.exceptionFormattingCb = exceptionFormattingCb;\n\n    var logTimeline = Djaty.logger.logTimeline;\n    var loggedErrors = logTimeline.filter(function (item) {\n      return item.method === 'error' || item.attrName === 'error';\n    });\n\n    if (loggedErrors.length) {\n      loggedErrors.forEach(function (item) {\n        var tmpTimeline = logTimeline.slice(0, logTimeline.indexOf(item) + 1);\n\n        _this2.autoReport(tmpTimeline, item.args);\n      });\n    }\n\n    Djaty.logger.registerAutoReportCb(this.autoReport.bind(this));\n\n    return this;\n  },\n  destroy: function destroy() {\n    this.isInitiated = false;\n    Djaty.logger.removeAutoReportCb();\n  },\n  _addItemToTimeline: function _addItemToTimeline(formattedObj, timeline, type) {\n    if (!formattedObj) {\n      return;\n    }\n\n    formattedObj.itemType = Djaty.constants.itemType[type];\n    timeline.push(formattedObj);\n  }\n};\n//# sourceMappingURL=autoReport.js.map\n"]}